<?xml version="1.0" encoding="UTF-8"?>
<document signature="Hero Lab Data">
  <thing id="c5CWlkHB01" name="The Hexblade" description="You have made your pact with a powerful, sentient magic weapon carved from the stuff of the Shadowfell. The mighty sword Blackrazor is the most notable of these weapons, several of which have spread across the multiverse over the ages. These weapons grow stronger as they consume the life essence of their victims. The strongest of them can use their ties to the Shadowfell to offer power to mortals who serve them. The Raven Queen forged the first of these weapons. They, along with the hexblade warlocks, are another tool she can use to manipulate events in the Material Plane to her inscrutable ends.\n\n{b}Expanded Spell List{/b}\nThe Hexblade lets you choose from an expanded list of spells when you learn a warlock spell. The following spells are added to the warlock spell list for you.\n\n{b}Hexblade Expanded Spells{/b} \n{b}Spell Level Spells{/b}\n1st               {i}shield, wrathful smite{/i}\n2nd              {i}branding smite, magic weapon{/i}\n3rd               {i}blink, elemental weapon{/i}\n4th               {i}phantasmal killer, staggering smite{/i}\n5th               {i}cone of cold, destructive wave{/i}" compset="CustomSpec" uniqueness="unique">
    <usesource source="p5eW_WUACP" parent="p5eUneArc" name="5e Unearthed Arcana - Warlock &amp; Wizard"/>
    <tag group="Helper" tag="Primary"/>
    <tag group="abCategory" tag="WlkOthPatr"/>
    <tag group="ClsAllowSp" tag="spShield"/>
    <tag group="ClsAllowSp" tag="sp5CWrathS"/>
    <tag group="ClsAllowSp" tag="spBranSmit"/>
    <tag group="ClsAllowSp" tag="spMagiWeap"/>
    <tag group="ClsAllowSp" tag="spBlink"/>
    <tag group="ClsAllowSp" tag="sp5CElemWe"/>
    <tag group="ClsAllowSp" tag="spPhanKill"/>
    <tag group="ClsAllowSp" tag="sp5CStaggS"/>
    <tag group="ClsAllowSp" tag="spConeCold"/>
    <tag group="ClsAllowSp" tag="sp5CDestrS"/>
    <tag group="Helper" tag="SpecUp"/>
    <tag group="SpecSource" tag="cHelpWlk"/>
    <bootstrap thing="c5CWlkHW01">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="c5CWlkHC01">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="c5CWlkSH01">
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    <bootstrap thing="c5CWlkAH01">
      <autotag group="ClSpecWhen" tag="10"/>
      </bootstrap>
    <bootstrap thing="c5CWlkMH01">
      <autotag group="ClSpecWhen" tag="14"/>
      </bootstrap>
    <eval phase="PostLevel" priority="10000">doneif (islinkage[table] = 0)

      perform linkage[table].pushtags[ClsAllowSp.?]</eval>
    </thing>
  <thing id="c5CWlkRQ01" name="The Raven Queen" description="You patron is the Raven Queen, a mysterious being who rules the Shadowfell from a palace of ice deep within that dread realm. The Raven Queen watches over the world, anticipating each creature’s death and ensuring that it meets its end at the proscribed time and place. As the ruler of the Shadowfell, she dwells in a decayed, dark reflection of the world. Her ability to reach into the world is limited. Thus, she turns to mortal warlocks to serve her will. Warlocks sworn to the Raven Queen receive visions and whispers from her in their dreams, sending them on quests and warning them of impending dangers.\nThe Raven Queen’s followers are expected to serve her will in the world. She concerns herself with ensuring that those fated to die pass from the world as expected, and bids her agents to defeat those who seek to cheat death through undeath or other imitations of immortality. She hates intelligent undead and expects her followers to strike them down, whereas mindless undead such as skeletons and zombies are little more than stumbling automatons in her eyes.\n\n{b}Expanded Spell List{/b}\nThe Raven Queen lets you choose from an expanded list of spells when you learn a warlock spell. The following spells are added to the warlock spell list for you.\n\n{b}Raven Queen Expanded Spells{/b} \n{b}Spell Level Spells{/b}\n1st               {i}false life, sanctuary{/i}\n2nd              {i}silence, spiritual weapon{/i}\n3rd               {i}feign death, speak with dead{/i}\n4th               {i}ice storm, locate creature{/i}\n5th               {i}commune, cone of cold{/i}" compset="CustomSpec" uniqueness="unique">
    <usesource source="p5eW_WUACP"/>
    <tag group="Helper" tag="SpecUp"/>
    <tag group="Helper" tag="Primary"/>
    <tag group="abCategory" tag="WlkOthPatr"/>
    <tag group="SpecSource" tag="cHelpWlk"/>
    <tag group="ClsAllowSp" tag="spFalsLife"/>
    <tag group="ClsAllowSp" tag="spSanctuar"/>
    <tag group="ClsAllowSp" tag="spSilence"/>
    <tag group="ClsAllowSp" tag="spSpirWeap"/>
    <tag group="ClsAllowSp" tag="sp5CFeignD"/>
    <tag group="ClsAllowSp" tag="spSpeaDead"/>
    <tag group="ClsAllowSp" tag="spIceStor"/>
    <tag group="ClsAllowSp" tag="spLocaCrea"/>
    <tag group="ClsAllowSp" tag="spCommune"/>
    <tag group="ClsAllowSp" tag="spConeCold"/>
    <bootstrap thing="c5CWlkSR01">
      <autotag group="ClSpecWhen" tag="1"/>
      </bootstrap>
    <bootstrap thing="c5CWlkSR02">
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    <bootstrap thing="c5CWlkRS01">
      <autotag group="ClSpecWhen" tag="10"/>
      </bootstrap>
    <bootstrap thing="c5CWlkRH01">
      <autotag group="ClSpecWhen" tag="14"/>
      </bootstrap>
    <eval phase="PostLevel" priority="10000">doneif (islinkage[table] = 0)

      perform linkage[table].pushtags[ClsAllowSp.?]</eval>
    </thing>
  <thing id="c5CWizLM01" name="Lore Mastery" description="Lore Mastery is an arcane tradition fixated on understanding the underlying mechanics of magic. It is the most academic of all arcane traditions. The promise of uncovering new knowledge or proving (or discrediting) a theory of magic is usually required to rouse its practitioners from their laboratories, academies, and archives to pursue a life of adventure.\nKnown as savants, followers of this tradition are a bookish lot who see beauty and mystery in the application of magic. The results of a spell are less interesting to them than the process that creates it. Some savants take a haughty attitude toward those who follow a tradition focused on a single school of magic, seeing them as provincial and lacking the sophistication needed to master true magic. Other savants are generous teachers, countering ignorance and deception with deep knowledge and good humor." compset="CustomSpec" uniqueness="unique">
    <usesource source="p5eW_WUACP"/>
    <tag group="Helper" tag="SpecUp" name="SpecUp" abbrev="SpecUp"/>
    <tag group="SpecSource" tag="cHelpWiz" name="Wizard" abbrev="Wizard"/>
    <tag group="abCategory" tag="WizArcTrad" name="Wizard Arcane Tradition" abbrev="Wizard Arcane Tradition"/>
    <tag group="Helper" tag="Primary" name="Primary" abbrev="Primary"/>
    <bootstrap thing="c5CWizLM02">
      <autotag group="ClSpecWhen" tag="2"/>
      </bootstrap>
    <bootstrap thing="c5CWizLM03">
      <autotag group="ClSpecWhen" tag="2"/>
      </bootstrap>
    <bootstrap thing="c5CWizLM04">
      <autotag group="ClSpecWhen" tag="6"/>
      </bootstrap>
    <bootstrap thing="c5CWizLM05">
      <autotag group="ClSpecWhen" tag="10"/>
      </bootstrap>
    <bootstrap thing="c5CWizLM06">
      <autotag group="ClSpecWhen" tag="14"/>
      </bootstrap>
    </thing>
  <thing id="c5CWlkHW01" name="Hex Warrior" description="At 1st level, you gain proficiency with medium armor, shields, and martial weapons. In addition, when attacking with a melee weapon that you are proficient with and that lacks the two-handed property, you can use your Charisma modifier, instead of Strength or Dexterity, for the attack and damage rolls." compset="ClSpecial">
    <tag group="abRange" tag="Personal"/>
    <tag group="ArmProfGrp" tag="ArmorMed"/>
    <tag group="ArmProfGrp" tag="Shields"/>
    <tag group="ArmProfGrp" tag="WepMartial"/>
    <tag group="User" tag="Activation"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[doneif (tagis[Helper.Disable] <> 0)

perform forward[ArmProfGrp.?]]]></eval>
    <eval phase="Final" priority="10000" index="2"><![CDATA[doneif (tagis[Helper.Disable] = 1)
doneif (field[abilActive].value = 0)
      
~ foreach pick in hero from BaseWep 
foreach pick in hero from BaseWep where "(fieldval:gIsEquip <> 0) & !wProperty.TwoHanded"
   eachpick.field[wMelAttTxt].text = "charisma"
   eachpick.field[wMeleeAttr].value = hero.child[aCHA].field[aBonus].value
   eachpick.field[wDamAttr].value = hero.child[aCHA].field[aBonus].value
nexteach]]></eval>
    </thing>
  <thing id="c5CWlkHC01" name="Hexblade’s Curse" description="Starting at 1st level, you gain the ability to place a baleful curse on an enemy. As a bonus action, choose one creature you can see within 30 feet of you. The target is cursed for 1 minute. Until the curse ends, you gain the following benefits:\n\n•  You gain a bonus to damage rolls against the cursed target. The bonus equals your proficiency bonus.\n•  Any attack roll you make against the cursed target is a critical hit on a roll of 19 or 20 on the d20.\n•  If the cursed target dies, you regain hit points equal to your warlock level + your Charisma modifier.\n\nYou can’t use this feature again until you finish a short or long rest." compset="ClSpecial">
    <fieldval field="trkMax" value="1"/>
    <fieldval field="abRange" value="30"/>
    <fieldval field="abDuration" value="1"/>
    <tag group="User" tag="Activation"/>
    <tag group="User" tag="Tracker"/>
    <tag group="abRange" tag="Feet"/>
    <tag group="Usage" tag="ShortRest"/>
    <tag group="abDuration" tag="Minute"/>
    <bootstrap thing="PoolWlkBls">
      <assignval field="livename" value="Hexblade’s Curse"/>
      </bootstrap>
    <eval phase="PostLevel" priority="10000"><![CDATA[doneif (tagis[Helper.Disable] = 1)

~ remove the limitation if we have Master of Hexes
if (#levelcount[Warlock] >= 14) then
   field[trkMax].value = 0
   perform delete[User.Tracker]
   perform delete[Usage.ShortRest]
endif

doneif (field[abilActive].value = 0)
      
foreach pick in hero from BaseWep
   eachpick.field[dmmBonus].value += hero.childfound[ProfBonus].field[tProfBonus].value
nexteach]]></eval>
    <eval phase="Final" priority="500" index="2" name="Calculate dark one&apos;s blessing temp Hp"><![CDATA[      ~ If we're not shown, just get out now
      doneif (tagis[Helper.ShowSpec] = 0)

      ~ If we're disabled, do nothing
      doneif (tagis[Helper.Disable] <> 0)
      
      field[abValue].value += field[xAllLev].value + #attrmod[aCHA]
      
      var temphp as number
      temphp = maximum(field[abValue].value,1)

      hero.childfound[PoolWlkBls].field[thpMinAllw].value = temphp
      hero.childfound[PoolWlkBls].field[thpMaxAllw].value = temphp]]></eval>
    </thing>
  <thing id="c5CWlkSH01" name="Shadow Hound" description="Starting at 6th level, your shadow can split from you and transform into a hound of pure darkness. Most of the time, your shadow hound masquerades as your normal shadow. As a bonus action, you can command it to magically slip into the shadow of a creature you can see within 60 feet of you. While the shadow hound is merged in this manner, the target can’t gain the benefits of half cover or three-quarters cover against your attack rolls, and you know the distance and direction to the target even if it is hidden. The hound can’t be seen by anyone but you and those with truesight, and it is unaffected by light. The target has a vague feeling of dread while the hound is present.\nAs a bonus action, you can command your shadow hound to return to you. It also automatically returns to you if you and the target are on different planes of existence, if you’re incapacitated, or if dispel magic, remove curse, or similar magic is used on the target." compset="ClSpecial">
    <fieldval field="abRange" value="30"/>
    <tag group="abAction" tag="Bonus"/>
    <tag group="abRange" tag="Feet"/>
    </thing>
  <thing id="c5CWlkAH01" name="Armor of Hexes" description="At 10th level, your hex grows more powerful. If the target cursed by your Hexblade’s Curse hits you with an attack roll, roll a d6. On a 4 or higher, the attack instead misses you." compset="ClSpecial">
    <tag group="abRange" tag="Personal"/>
    </thing>
  <thing id="c5CWlkMH01" name="Master of Hexes" description="Starting at 14th level, you can use your Hexblade’s Curse again without resting, but when you apply it to a new target, the curse immediately ends on the previous target." compset="ClSpecial"></thing>
  <thing id="c5CWlkSR01" name="Sentinel Raven" description="Starting at 1st level, you gain the service of a spirit sent by the Raven Queen to watch over you. The spirit assumes the form and game statistics of a raven, and it always obeys your commands, which you can give telepathically while it is within 100 feet of you.\nWhile the raven is perched on your shoulder, you gain darkvision with a range of 30 feet and a bonus to your passive Wisdom (Perception) score and to Wisdom (Perception) checks. The bonus equals your Charisma modifier. While perched on your shoulder, the raven can’t be targeted by any attack or other harmful effect; only you can cast spells on it; it can’t take damage; and it is incapacitated.\nYou can see through the raven’s eyes and hear what it hears while it is within 100 feet of you. \nIn combat, you roll initiative for the raven and control how it acts. If it is slain by a creature, you gain advantage on all attack rolls against the killer for the next 24 hours. \nThe raven doesn’t require sleep. While it is within 100 feet of you, it can awaken you from sleep as a bonus action.\nThe raven vanishes when it dies, if you die, or if the two of you are separated by more than 5 miles.\nAt the end of a short or long rest, you can call the raven back to you—no matter where it is or whether it died—and it reappears within 5 feet of you." compset="ClSpecial">
    <fieldval field="actName" value="Perched on shoulder"/>
    <tag group="User" tag="Activation"/>
    <bootstrap thing="raDarkVis">
      <containerreq phase="First" priority="499">fieldval:abilActive = 1</containerreq>
      <autotag group="Value" tag="30"/>
      </bootstrap>
    <eval phase="PostAttr" priority="15000">doneif (tagis[Helper.Disable] = 1)
doneif (field[abilActive].value = 0)
      
hero.childfound[skPercep].field[BonMorale].value += hero.child[aCHA].field[aBonus].value</eval>
    </thing>
  <thing id="c5CWlkSR02" name="Soul of the Raven" description="At 6th level, you gain the ability to merge with your raven spirit. As a bonus action when your raven is perched on your shoulder, your body merges with your raven’s form. While merged, you become Tiny, you replace your speed with the raven’s, and you can use your action only to Dash, Disengage, Dodge, Help, Hide, or Search.\nDuring this time, you gain the benefits of your raven being perched on your shoulder. As an action, you and the raven return to normal." compset="ClSpecial">
    <tag group="abAction" tag="Bonus"/>
    </thing>
  <thing id="c5CWlkRS01" name="Raven’s Shield" description="At 10th level, the Raven Queen grants you a protective blessing. You gain advantage on death saving throws, immunity to the frightened condition, and resistance to necrotic damage." compset="ClSpecial">
    <tag group="CondImm" tag="pcnFright"/>
    <tag group="DamageRes" tag="dtNecrotic"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[doneif (tagis[Helper.Disable] <> 0)
doneif (hero.tagcount[Classes.Warlock] < 10)

perform hero.pushtags[DamageRes.?]
perform hero.pushtags[CondImm.?]

#situational[hero.child[svAll],"Advantage on death saving throws",field[thingname].text]]]></eval>
    </thing>
  <thing id="c5CWlkRH01" name="Queen’s Right Hand" description="Starting at 14th level, you can channel the Raven Queen’s power to slay a creature. You can cast finger of death.  After you cast the spell with this feature, you can’t do so again until you finish a long rest." compset="ClSpecial">
    <fieldval field="trkMax" value="1"/>
    <tag group="User" tag="Tracker"/>
    <tag group="Usage" tag="LongRest"/>
    <tag group="SpInfo" tag="spFingDeat"/>
    </thing>
  <thing id="c5CWlkIn01" name="Aspect of the Moon" description="You have gained the Maiden of the Moon’s favor. You no longer need to sleep and can’t be forced to sleep by any means. To gain the benefits of a long rest, you can spend all 8 hours doing light activity, such as reading and keeping watch." compset="CustomSpec" uniqueness="unique">
    <usesource source="p5eW_WUACP"/>
    <tag group="Helper" tag="Tertiary"/>
    <tag group="abCategory" tag="WlkEldInvo"/>
    <tag group="SpecSource" tag="cHelpWlk"/>
    <exprreq message="Prerequisite: The Archfey patron"><![CDATA[#hasability[c5CWlkArch] <> 0]]></exprreq>
    </thing>
  <thing id="c5CWlkIn02" name="Burning Hex" description="As a bonus action, you cause a target cursed by your Hexblade’s Curse to take fire damage equal to your Charisma modifier (minimum of 1)." compset="CustomSpec" uniqueness="unique">
    <usesource source="p5eW_WUACP"/>
    <tag group="Helper" tag="Tertiary"/>
    <tag group="abCategory" tag="WlkEldInvo"/>
    <tag group="abAction" tag="Bonus"/>
    <tag group="SpecSource" tag="cHelpWlk"/>
    <exprreq message="Prerequisite: The Hexblade patron"><![CDATA[#hasability[c5CWlkHB01] <> 0]]></exprreq>
    </thing>
  <thing id="c5CWlkIn03" name="Caiphon’s Beacon" description="The purple star Caiphon is the doom of inexperienced mariners. Those who use its deceptive light to guide their travels invariably come to ruin. You gain proficiency in the Deception and Stealth skills, and you have advantage on attack rolls against charmed creatures." compset="CustomSpec" uniqueness="unique">
    <usesource source="p5eW_WUACP"/>
    <tag group="Helper" tag="Tertiary"/>
    <tag group="abCategory" tag="WlkEldInvo"/>
    <tag group="SpecSource" tag="cHelpWlk"/>
    <tag group="ProfSkill" tag="skDecept"/>
    <tag group="ProfSkill" tag="skStealth"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[doneif (tagis[Helper.Disable] <> 0)

perform forward[ProfSkill.?]]]></eval>
    <exprreq message="Prerequisite: The Great Old One patron"><![CDATA[#hasability[c5CWlkGrOO] <> 0]]></exprreq>
    </thing>
  <thing id="c5CWlkIn04" name="Chilling Hex" description="As a bonus action, you cause frost to swirl around a target cursed by your Hexblade’s Curse, dealing cold damage to each of your enemies within 5 feet of the target. The cold damage equals your Charisma modifier (minimum of 1)." compset="CustomSpec" uniqueness="unique">
    <usesource source="p5eW_WUACP"/>
    <tag group="Helper" tag="Tertiary"/>
    <tag group="abCategory" tag="WlkEldInvo"/>
    <tag group="abAction" tag="Bonus"/>
    <tag group="SpecSource" tag="cHelpWlk"/>
    <exprreq message="Prerequisite: The Hexblade patron"><![CDATA[#hasability[c5CWlkHB01] <> 0]]></exprreq>
    </thing>
  <thing id="c5CWlkIn05" name="Chronicle of the Raven Queen" description="You can place a corpse’s hand or similar appendage on your Book of Shadows and ask one question aloud. After 1 minute, the answer appears written in blood in your book. The answer is provided by the dead creature’s spirit to the best of its knowledge and is translated into a language of your choice. You must use this ability within 1 minute of a creature’s death, and a given creature can only be asked one question in this manner." compset="CustomSpec" uniqueness="unique">
    <usesource source="p5eW_WUACP"/>
    <tag group="Helper" tag="Tertiary"/>
    <tag group="abCategory" tag="WlkEldInvo"/>
    <tag group="abAction" tag="Minute"/>
    <tag group="SpecSource" tag="cHelpWlk"/>
    <exprreq message="Prerequisite: Raven Queen patron"><![CDATA[#hasability[c5CWlkRQ01] <> 0]]></exprreq>
    <exprreq message="Prerequisite: Pact of the Tome feature"><![CDATA[#hasability[cWlkPacTom] <> 0]]></exprreq>
    </thing>
  <thing id="c5CWlkIn06" name="Claw of Acamar" description="You can create a black, lead flail using your Pact of the Blade feature. The flail’s head is sculpted to resemble a pair of grasping tentacles. The weapon has the reach property. When you hit a creature with it, you can expend a spell slot to deal an additional 2d8 necrotic damage to the target per spell level, and you can reduce the creature’s speed to 0 feet until the end of your next turn." compset="CustomSpec" uniqueness="unique">
    <usesource source="p5eW_WUACP"/>
    <tag group="Helper" tag="Tertiary"/>
    <tag group="abCategory" tag="WlkEldInvo"/>
    <tag group="SpecSource" tag="cHelpWlk"/>
    <eval phase="Final" priority="22000"><![CDATA[doneif (tagis[Helper.Disable] <> 0)

~ display a tracker for this ability
~ it is based on your spell slots, so it follows
~ your spell tracker.

perform assign[User.Tracker]
perform assign[Usage.ShortRest]
field[trkMax].value = hero.childfound[SlotHoldWa].field[MaxAllow].value
trustme
field[trkUser].value = hero.childfound[SlotHoldWa].field[SlotUsed].value]]></eval>
    <exprreq message="Prerequisite: Pact of the Blade feature"><![CDATA[#hasability[cWlkPacBla] <> 0]]></exprreq>
    <exprreq message="Prerequisite: The Great Old One patron"><![CDATA[#hasability[c5CWlkGrOO] <> 0]]></exprreq>
    </thing>
  <thing id="c5CWlkIn07" name="Cloak of Baalzebul" description="As a bonus action, you can conjure a swarm of buzzing flies around you. The swarm grants you advantage on Charisma (Intimidation) checks but disadvantage on all other Charisma checks. In addition, a creature that starts its turn within 5 feet of you takes poison damage equal to your Charisma modifier. You can dismiss the swarm with another bonus action." compset="CustomSpec" uniqueness="unique">
    <usesource source="p5eW_WUACP"/>
    <tag group="Helper" tag="Tertiary"/>
    <tag group="abCategory" tag="WlkEldInvo"/>
    <tag group="SpecSource" tag="cHelpWlk"/>
    <tag group="abAction" tag="Bonus"/>
    <exprreq message="Prerequisite: The Fiend patron"><![CDATA[#hasability[cWlkFiend] <> 0]]></exprreq>
    </thing>
  <thing id="c5CWlkIn08" name="Curse Bringer" description="You can create a greatsword forged from silver, with black runes etched into its blade, using your Pact of the Blade feature. If you reduce a target cursed by your Hexblade’s Curse to 0 hit points with this sword, you can immediately change the target of the curse to a different creature. This change doesn’t extend the curse’s duration. \nWhen you hit a creature with this weapon, you can expend a spell slot to deal an additional 2d8 slashing damage to the target per spell level, and you can reduce the creature’s speed to 0 feet until the end of your next turn." compset="CustomSpec" uniqueness="unique">
    <usesource source="p5eW_WUACP" parent="p5eUneArc" name="5e Unearthed Arcana - Warlock &amp; Wizard"/>
    <tag group="SpecSource" tag="cHelpWlk" name="Warlock" abbrev="Warlock"/>
    <tag group="abCategory" tag="WlkEldInvo" name="Warlock Eldritch Invocation" abbrev="Warlock Eldritch Invocation"/>
    <tag group="Helper" tag="Tertiary" name="Tertiary" abbrev="Tertiary"/>
    <eval phase="Final" priority="22000"><![CDATA[doneif (tagis[Helper.Disable] <> 0)

~ display a tracker for this ability
~ it is based on your spell slots, so it follows
~ your spell tracker.

perform assign[User.Tracker]
perform assign[Usage.ShortRest]
field[trkMax].value = hero.childfound[SlotHoldWa].field[MaxAllow].value
trustme
field[trkUser].value = hero.childfound[SlotHoldWa].field[SlotUsed].value]]></eval>
    <exprreq message="Prerequisite: Pact of the Blade feature"><![CDATA[#hasability[cWlkPacBla] <> 0]]></exprreq>
    <exprreq message="Prerequisite: The Hexblade patron"><![CDATA[#hasability[c5CWlkHB01] <> 0]]></exprreq>
    </thing>
  <thing id="c5CWlkIn09" name="Kiss of Mephistopheles" description="You can channel the fires of Mephistopheles through your eldritch blast. When you hit a creature with that cantrip, you can cast fireball as a bonus action using a warlock spell slot. However, the spell must be centered on a creature you hit with eldritch blast." compset="CustomSpec" uniqueness="unique">
    <usesource source="p5eW_WUACP"/>
    <tag group="Helper" tag="Tertiary"/>
    <tag group="abCategory" tag="WlkEldInvo"/>
    <tag group="SpecSource" tag="cHelpWlk"/>
    <exprreq message="5th level required."><![CDATA[#levelcount[Warlock] >= 5]]></exprreq>
    <exprreq message="Eldritch Blast cantrip required."><![CDATA[childlives[spEldrBlas] <> 0]]></exprreq>
    <exprreq message="Prerequisite: The Fiend patron"><![CDATA[#hasability[cWlkFiend] <> 0]]></exprreq>
    </thing>
  <thing id="c5CWlkIn10" name="Frost Lance" description="You draw on the gifts of the Prince of Frost to trap your enemies in ice. When you hit a creature with your eldritch blast cantrip one or more times on your turn, you can reduce that creature’s speed by 10 feet until the end of your next turn." compset="CustomSpec" uniqueness="unique">
    <usesource source="p5eW_WUACP"/>
    <tag group="Helper" tag="Tertiary"/>
    <tag group="abCategory" tag="WlkEldInvo"/>
    <tag group="SpecSource" tag="cHelpWlk"/>
    <exprreq message="Eldritch Blast cantrip required."><![CDATA[childlives[spEldrBlas] <> 0]]></exprreq>
    </thing>
  <thing id="c5CWlkIn11" name="Gaze of Khirad" description="You gain the piercing gaze of the blue star Khirad. As an action, you can see through solid objects to a range of 30 feet until the end of the current turn. During that time, you perceive objects as ghostly, transparent images." compset="CustomSpec" uniqueness="unique">
    <usesource source="p5eW_WUACP"/>
    <tag group="Helper" tag="Tertiary"/>
    <tag group="abCategory" tag="WlkEldInvo"/>
    <tag group="SpecSource" tag="cHelpWlk"/>
    <tag group="abAction" tag="Action"/>
    <exprreq message="Prerequisite: The Great Old One patron"><![CDATA[#hasability[c5CWlkGrOO] <> 0]]></exprreq>
    <exprreq message="Prerequisite: 7th level"><![CDATA[#levelcount[Warlock] >= 7]]></exprreq>
    </thing>
  <thing id="c5CWlkIn12" name="Grasp of Hadar" description="Once during your turn when you hit a creature with your eldritch blast cantrip, you can move that creature in a straight line 10 feet closer to yourself." compset="CustomSpec" uniqueness="unique">
    <usesource source="p5eW_WUACP"/>
    <tag group="Helper" tag="Tertiary"/>
    <tag group="abCategory" tag="WlkEldInvo"/>
    <tag group="SpecSource" tag="cHelpWlk"/>
    <exprreq message="Eldritch Blast cantrip required."><![CDATA[childlives[spEldrBlas] <> 0]]></exprreq>
    <exprreq message="Prerequisite: The Great Old One patron"><![CDATA[#hasability[c5CWlkGrOO] <> 0]]></exprreq>
    </thing>
  <thing id="c5CWlkIn13" name="Green Lord’s Gift" description="The Green Lord oversees a verdant realm of everlasting summer. Your soul is linked to his power. Whenever you regain hit points, you treat any dice rolled to determine the hit points you regain as having rolled their maximum value." compset="CustomSpec" uniqueness="unique">
    <usesource source="p5eW_WUACP"/>
    <tag group="Helper" tag="Tertiary"/>
    <tag group="abCategory" tag="WlkEldInvo"/>
    <tag group="SpecSource" tag="cHelpWlk"/>
    <exprreq message="Prerequisite: The Archfey patron"><![CDATA[#hasability[c5CWlkArch] <> 0]]></exprreq>
    </thing>
  <thing id="c5CWlkIn14" name="Improved Pact Weapon" description="Any weapon you create using your Pact of the Blade feature is a +1 weapon. This invocation doesn’t affect a magic weapon you transformed into your pact weapon." compset="CustomSpec" uniqueness="unique">
    <usesource source="p5eW_WUACP"/>
    <tag group="Helper" tag="Tertiary"/>
    <tag group="abCategory" tag="WlkEldInvo"/>
    <tag group="SpecSource" tag="cHelpWlk"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[doneif (tagis[Helper.Disable] <> 0)


if ( hero.childfound[cWlkPacBla].field[usrChosen1].chosen.field[Bonus].value = 0 ) then 
   if ( hero.childfound[cWlkPacBla].field[usrChosen1].chosen.tagis[portal.wMagChoose] = 0 ) then 
      hero.childfound[cWlkPacBla].field[usrChosen1].chosen.field[Bonus].value = 1
   endif
endif]]></eval>
    <exprreq message="Prerequisite: Pact of the Blade feature"><![CDATA[#hasability[cWlkPacBla] <> 0]]></exprreq>
    </thing>
  <thing id="c5CWlkIn15" name="Mace of Dispater" description="When you create your pact weapon as a mace, it manifests as an iron mace forged in Dis, the second of the Nine Hells. When you hit a creature with it, you can expend a spell slot to deal an additional 2d8 force damage to the target per spell level, and you can knock the target prone if it is Huge or smaller." compset="CustomSpec" uniqueness="unique">
    <usesource source="p5eW_WUACP" parent="p5eUneArc" name="5e Unearthed Arcana - Warlock &amp; Wizard"/>
    <tag group="SpecSource" tag="cHelpWlk" name="Warlock" abbrev="Warlock"/>
    <tag group="abCategory" tag="WlkEldInvo" name="Warlock Eldritch Invocation" abbrev="Warlock Eldritch Invocation"/>
    <tag group="Helper" tag="Tertiary" name="Tertiary" abbrev="Tertiary"/>
    <eval phase="Final" priority="22000"><![CDATA[doneif (tagis[Helper.Disable] <> 0)

~ display a tracker for this ability
~ it is based on your spell slots, so it follows
~ your spell tracker.

perform assign[User.Tracker]
perform assign[Usage.ShortRest]
field[trkMax].value = hero.childfound[SlotHoldWa].field[MaxAllow].value
trustme
field[trkUser].value = hero.childfound[SlotHoldWa].field[SlotUsed].value]]></eval>
    <exprreq message="Prerequisite: Pact of the Blade feature"><![CDATA[#hasability[cWlkPacBla] <> 0]]></exprreq>
    <exprreq message="Prerequisite: The Fiend patron"><![CDATA[#hasability[cWlkFiend] <> 0]]></exprreq>
    </thing>
  <thing id="c5CWlkIn16" name="Moon Bow" description="You can create a longbow using your Pact of the Blade feature. When you draw back its string and fire, it creates an arrow of white wood, which vanishes after 1 minute. You have advantage on attack rolls against lycanthropes with the bow. When you hit a creature with it, you can expend a spell slot to deal an additional 2d8 radiant damage to the target per spell level." compset="CustomSpec" uniqueness="unique">
    <usesource source="p5eW_WUACP" parent="p5eUneArc" name="5e Unearthed Arcana - Warlock &amp; Wizard"/>
    <tag group="SpecSource" tag="cHelpWlk" name="Warlock" abbrev="Warlock"/>
    <tag group="abCategory" tag="WlkEldInvo" name="Warlock Eldritch Invocation" abbrev="Warlock Eldritch Invocation"/>
    <tag group="Helper" tag="Tertiary" name="Tertiary" abbrev="Tertiary"/>
    <eval phase="Final" priority="22000"><![CDATA[doneif (tagis[Helper.Disable] <> 0)

~ display a tracker for this ability
~ it is based on your spell slots, so it follows
~ your spell tracker.

perform assign[User.Tracker]
perform assign[Usage.ShortRest]
field[trkMax].value = hero.childfound[SlotHoldWa].field[MaxAllow].value
trustme
field[trkUser].value = hero.childfound[SlotHoldWa].field[SlotUsed].value]]></eval>
    <exprreq message="Prerequisite: Pact of the Blade feature"><![CDATA[#hasability[cWlkPacBla] <> 0]]></exprreq>
    <exprreq message="Prerequisite: The Archfey patron"><![CDATA[#hasability[c5CWlkArch] <> 0]]></exprreq>
    </thing>
  <thing id="c5CWlkIn17" name="Path of the Seeker" description="The Seeker bids you to travel in search of knowledge, and little can prevent you from waling this path. You ignore difficult terrain, have advantage on all checks to escape a grapple, manacles, or rope bindings, and advantage on saving throws against being paralyzed." compset="CustomSpec" uniqueness="unique">
    <usesource source="p5eW_WUACP"/>
    <tag group="Helper" tag="Tertiary"/>
    <tag group="abCategory" tag="WlkEldInvo"/>
    <tag group="SpecSource" tag="cHelpWlk"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[doneif (tagis[Helper.Disable] <> 0)

#situational[hero.child[svAll],"Advantage vs. paralysis",field[thingname].text]]]></eval>
    <exprreq message="Prerequisite: The Seeker patron"><![CDATA[#hasability[c5CWlkSeek] <> 0]]></exprreq>
    </thing>
  <thing id="c5CWlkIn18" name="Superior Pact Weapon" description="Any weapon you create using your Pact of the Blade feature is a +2 weapon. This invocation doesn’t affect a magic weapon you transformed into your pact weapon." compset="CustomSpec" uniqueness="unique">
    <usesource source="p5eW_WUACP" parent="p5eUneArc" name="5e Unearthed Arcana - Warlock &amp; Wizard"/>
    <tag group="SpecSource" tag="cHelpWlk" name="Warlock" abbrev="Warlock"/>
    <tag group="abCategory" tag="WlkEldInvo" name="Warlock Eldritch Invocation" abbrev="Warlock Eldritch Invocation"/>
    <tag group="Helper" tag="Tertiary" name="Tertiary" abbrev="Tertiary"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[doneif (tagis[Helper.Disable] <> 0)


if ( hero.childfound[cWlkPacBla].field[usrChosen1].chosen.field[Bonus].value = 0 ) then 
   if ( hero.childfound[cWlkPacBla].field[usrChosen1].chosen.tagis[portal.wMagChoose] = 0 ) then 
      hero.childfound[cWlkPacBla].field[usrChosen1].chosen.field[Bonus].value = 2
   endif
endif]]></eval>
    <exprreq message="Prerequisite: Pact of the Blade feature"><![CDATA[#hasability[cWlkPacBla] <> 0]]></exprreq>
    <exprreq message="9th level required."><![CDATA[#levelcount[Warlock] >= 9]]></exprreq>
    </thing>
  <thing id="c5CWlkIn19" name="Tomb of Levistus" description="As a reaction when you take damage, you can entomb yourself in ice, which melts away at the end of your next turn. You gain 10 temporary hit points per warlock level, which take as much of the triggering damage as possible. You also gain vulnerability to fire damage, your speed drops to 0, and you are incapacitated. All of these effects end when the ice melts.\nOnce you use this invocation, you can’t use it again until you finish a short or long rest." compset="CustomSpec" uniqueness="unique">
    <fieldval field="trkMax" value="1"/>
    <usesource source="p5eW_WUACP"/>
    <tag group="abCategory" tag="WlkEldInvo"/>
    <tag group="Helper" tag="Tertiary"/>
    <tag group="User" tag="Tracker"/>
    <tag group="SpecSource" tag="cHelpWlk"/>
    <tag group="Usage" tag="ShortRest"/>
    <tag group="abAction" tag="Reaction"/>
    <bootstrap thing="PoolWlkBls">
      <assignval field="livename" value="Tomb of Levistus"/>
      <assignval field="actIncrNam" value="ToLHP"/>
      </bootstrap>
    <eval phase="Final" priority="500" name="Calculate dark one&apos;s blessing temp Hp"><![CDATA[doneif (tagis[Helper.ShowSpec] = 0)
doneif (tagis[Helper.Disable] <> 0)
      
field[abValue].value += #levelcount[Warlock] * 10
     
var temphp as number
temphp = maximum(field[abValue].value,1)

hero.findchild[TempHpPool,"!fieldisempty:actIncrNam"].field[thpMinAllw].value = temphp
hero.findchild[TempHpPool,"!fieldisempty:actIncrNam"].field[thpMaxAllw].value = temphp]]></eval>
    <eval phase="Final" priority="1000" index="2"><![CDATA[doneif (tagis[Helper.ShowSpec] = 0)
doneif (tagis[Helper.Disable] <> 0)

if ( hero.findchild[TempHpPool,"!fieldisempty:actIncrNam"].field[abilActive].value <> 0 ) then
   perform hero.assign[DamageVuln.dtFire]
   hero.child[Speed].field[tSpeed].value = 0
endif]]></eval>
    <exprreq message="Prerequisite: The Fiend patron"><![CDATA[#hasability[cWlkFiend] <> 0]]></exprreq>
    </thing>
  <thing id="c5CWlkIn20" name="Ultimate Pact Weapon" description="Any weapon you create using your Pact of the Blade feature is a +3 weapon. This invocation doesn’t affect a magic weapon you transformed into your pact weapon." compset="CustomSpec" uniqueness="unique">
    <usesource source="p5eW_WUACP" parent="p5eUneArc" name="5e Unearthed Arcana - Warlock &amp; Wizard"/>
    <tag group="SpecSource" tag="cHelpWlk" name="Warlock" abbrev="Warlock"/>
    <tag group="abCategory" tag="WlkEldInvo" name="Warlock Eldritch Invocation" abbrev="Warlock Eldritch Invocation"/>
    <tag group="Helper" tag="Tertiary" name="Tertiary" abbrev="Tertiary"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[doneif (tagis[Helper.Disable] <> 0)


if ( hero.childfound[cWlkPacBla].field[usrChosen1].chosen.field[Bonus].value = 0 ) then 
   if ( hero.childfound[cWlkPacBla].field[usrChosen1].chosen.tagis[portal.wMagChoose] = 0 ) then 
      hero.childfound[cWlkPacBla].field[usrChosen1].chosen.field[Bonus].value = 3
   endif
endif]]></eval>
    <exprreq message="Prerequisite: Pact of the Blade feature"><![CDATA[#hasability[cWlkPacBla] <> 0]]></exprreq>
    <exprreq message="15th level required."><![CDATA[#levelcount[Warlock] >= 15]]></exprreq>
    </thing>
  <thing id="c5CWizLM02" name="Lore Master" description="Starting at 2nd level, you become a compendium of knowledge on a vast array of topics. Your proficiency bonus is doubled for any ability check you make that uses the Arcana, History, Nature, or Religion skill if you are proficient in that skill.\nIn addition, your analytical abilities are so well-honed that your initiative in combat can be driven by mental agility, rather than physical agility. When you roll initiative, it is either an Intelligence check or a Dexterity check for you (your choice)." compset="ClSpecial">
    <comment><![CDATA[if (hero.tagis[ProfSkill.skArcana] <> 0) then
   perform forward[ProfDouble.skHistory]
endif

if (hero.tagis[ProfSkill.skHistory] <> 0) then
   perform forward[ProfDouble.skHistory]
endif

if (hero.tagis[ProfSkill.skNature] <> 0) then
   perform forward[ProfDouble.skNature]
endif

if (hero.tagis[ProfSkill.skReligion] <> 0) then
   perform forward[ProfDouble.skReligion]
endif]]></comment>
    <usesource source="p5eW_WUACP"/>
    <eval phase="Final" priority="9000" index="2"><![CDATA[doneif (tagis[Helper.ShowSpec] = 0)
doneif (tagis[Helper.Disable] <> 0)

if ( #attrmod[aINT] > #attrmod[aDEX] ) then
    hero.childfound[Initiative].field[tInitAttr].value = #attrmod[aINT]
endif]]></eval>
    <eval phase="PostLevel" priority="15500"><![CDATA[     doneif (tagis[Helper.ShowSpec] = 0)
     doneif (tagis[Helper.Disable] <> 0)

       if (hero.child[skArcana].tagis[Helper.Proficient] <> 0) then
         perform hero.child[skArcana].assign[Helper.ProfDouble]
       endif

       if (hero.child[skHistory].tagis[Helper.Proficient] <> 0) then
         perform hero.child[skHistory].assign[Helper.ProfDouble]
       endif

       if (hero.child[skNature].tagis[Helper.Proficient] <> 0) then
         perform hero.child[skNature].assign[Helper.ProfDouble]
       endif

       if (hero.child[skReligion].tagis[Helper.Proficient] <> 0) then
         perform hero.child[skReligion].assign[Helper.ProfDouble]
       endif]]>
      <before name="Calc skProfBon"/>
      </eval>
    </thing>
  <thing id="c5CWizLM03" name="Spell Secrets" description="At 2nd level, you master the first in a series of arcane secrets uncovered by your extensive studies.\nWhen you cast a spell with a spell slot and the spell deals acid, cold, fire, force, lightning, necrotic, radiant, or thunder damage, you can substitute that damage type with one other type from that list  (you can change only one damage type per casting of a spell). You replace one energy type for another by altering the spell’s formula as you cast it.\nWhen you cast a spell with a spell slot and the spell requires a saving throw, you can change the saving throw from one ability score to another of your choice. Once you change a saving throw in this way, you can’t do so again until you finish a short or long rest.\n\n{b}Altering Spells{/b}\nWhile the Spell Secrets feature offers increased versatility, at the table its effects can be difficult to spot by the other players. If you’re playing a savant, take a moment to describe how you alter your spells. Think of a signature change your character is particularly proud of. Be inventive, and make the game more fun for everyone by playing up the sudden, unexpected tricks you character can employ.  For example, a fireball transformed to require a Strength save might become a sphere of burning rock that shatters and slams into its target. A charm person that requires a Constitution save might take the form of a vaporous narcotic that alters the target’s mood." compset="ClSpecial">
    <fieldval field="trkMax" value="1"/>
    <fieldval field="abText" value="Change Spell Save"/>
    <tag group="Usage" tag="ShortRest"/>
    <tag group="User" tag="Tracker"/>
    <tag group="LvNamePar" tag="AppText"/>
    </thing>
  <thing id="c5CWizLM04" name="Alchemical Casting" description="At 6th level, you learn to augment spells in a variety of ways. When you cast a spell with a spell slot, you can expend one additional spell slot to augment its effects for this casting, mixing the raw stuff of magic into your spell to amplify it. The effect depends on the spell slot you expend.\n\n{b}Extra Damage{/b}An additional 1st-level spell slot can increase the spell’s raw force. If you roll damage for the spell when you cast it, increase the damage against every target by 2d10 force damage. If the spell can deal damage on more than one turn, it deals this extra force damage only on the turn you cast the spell.\n\n{b}Extra Range{/b}An additional 2nd-level spell slot can increase the spell’s range. If the spell’s range is at least 30 feet, it becomes 1 mile.\n\n{b}Extra Potency{/b}An additional 3rd-level spell slot can increase the spell’s potency. Increase the spell’s save DC by 2." compset="ClSpecial"></thing>
  <thing id="c5CWizLM05" name="Prodigious Memory" description="At 10th level, you have attained a greater mastery of spell preparation. As a bonus action, you can replace one spell you have prepared with another spell from your spellbook. You can’t use this feature again until you finish a short or long rest." compset="ClSpecial">
    <fieldval field="trkMax" value="1"/>
    <tag group="User" tag="Tracker"/>
    <tag group="Usage" tag="ShortRest"/>
    <tag group="abAction" tag="Bonus"/>
    </thing>
  <thing id="c5CWizLM06" name="Master of Magic" description="At 14th level, your knowledge of magic allows you to duplicate almost any spell. As a bonus action, you can call to mind the ability to cast one spell of your choice from any class’s spell list. The spell must be of a level for which you have spell slots, you mustn’t have it prepared, and you follow the normal rules for casting it, including expending a spell slot. If the spell isn’t a wizard spell, it counts as a wizard spell when you cast it. The ability to cast the spell vanishes from your mind when you cast it or when the current turn ends. \nYou can’t use this feature again until you finish a long rest." compset="ClSpecial">
    <fieldval field="trkMax" value="1"/>
    <tag group="abAction" tag="Bonus"/>
    <tag group="User" tag="Tracker"/>
    <tag group="Usage" tag="LongRest"/>
    </thing>
  </document>
