<?xml version="1.0" encoding="UTF-8"?>
<document signature="Hero Lab Data">
  <thing id="f5CGftChrDrg" name="Gift of the Chromatic Dragon" description="The power of chromatic dragons grants you these benefits:\n\n{b}Chromatic Infusion.{/b} You can use a bonus action to touch a simple or martial weapon, infusing it with one of these damage types: acid, cold, fire, lightning, or poison. For the next minute, that weapon deals an additional 1d4 damage of the chosen type on a hit. Once you&apos;ve used this feature, you must complete a long rest before you can use it again.\n\n{b}Reactive Resistance.{/b} When you take acid, cold, fire, lightning, or poison damage, you can use a reaction to grant yourself resistance to that damage. You can do so a number of times equaling your proficiency bonus, regaining all spent uses when you complete a long rest." compset="Feat" uniqueness="useronce">
    <usesource source="5eFFToD"/>
    <bootstrap thing="c5CChrmInfs"></bootstrap>
    <bootstrap thing="c5CReacRes"></bootstrap>
    </thing>
  <thing id="c5CChrmInfs" name="Chromatic Infusion" description="You can use a bonus action to touch a simple or martial weapon, infusing it with one of these damage types: acid, cold, fire, lightning, or poison. For the next minute, that weapon deals an additional 1d4 damage of the chosen type on a hit. Once you&apos;ve used this feature, you must complete a long rest before you can use it again." compset="CustomSpec" uniqueness="unique">
    <fieldval field="trkMax" value="1"/>
    <fieldval field="actName" value="Active (1 minute)"/>
    <fieldval field="abDuration" value="1"/>
    <tag group="Usage" tag="LongRest"/>
    <tag group="User" tag="Tracker"/>
    <tag group="User" tag="Activation"/>
    <tag group="Helper" tag="ActivMenu"/>
    <tag group="abAction" tag="Bonus"/>
    <tag group="abDuration" tag="Minute"/>
    <tag group="LvNamePar" tag="IncAction"/>
    <tag group="LvNamePar" tag="IncDurati"/>
    <tag group="User" tag="NoAutoName"/>
    <eval phase="First" priority="600"><![CDATA[doneif (tagis[Helper.Disable] <>0)
doneif (field[abilActive].value = 0)

field[usrCandid1].text = "!Helper.Helper & (wProfReq.Martial | wProfReq.Simple) & component.BaseWep & !thingid.w5CSpellAt"
field[usrCandid2].text = "thingid.dtAcid | thingid.dtCold | thingid.dtFire | thingid.dtLightnin | thingid.dtPoison"
perform assign[ChooseSrc1.Hero]
perform assign[ChooseSrc2.Thing]


doneif (field[usrChosen1].ischosen = 0)
doneif (field[usrChosen2].ischosen = 0)


field[usrChosen1].chosen.field[wDamExtra].text &= " +1d4 " & lowercase(field[usrChosen2].chosen.field[name].text)]]></eval>
    </thing>
  <thing id="c5CReacRes" name="Reactive Resistance" description="When you take acid, cold, fire, lightning, or poison damage, you can use a reaction to grant yourself resistance to that damage. You can do so a number of times equaling your proficiency bonus, regaining all spent uses when you complete a long rest." compset="CustomSpec" uniqueness="unique">
    <tag group="Usage" tag="LongRest"/>
    <tag group="User" tag="Tracker"/>
    <tag group="FeatureTyp" tag="Reaction"/>
    <tag group="abAction" tag="Reaction"/>
    <eval phase="PostAttr"><![CDATA[
    doneif (tagis[Helper.Disable] <> 0)

    field[trkMax].value = hero.childfound[ProfBonus].field[tProfBonus].value]]></eval>
    </thing>
  <thing id="f5CGftGemDrg" name="Gift of the Gem Dragon" description="The power of gem dragons grants you these benefits:\n\n{b}Ability Score Increase.{/b} Your Intelligence, Wisdom, or Charisma score increases by 1, to a maximum of 20.\n\n{b}Telekinetic Reprisal.{/b} When you take damage from a creature that is within 10 feet of you, you can use your reaction to send out telekinetic energy. The creature that dealt the damage must make a Strength saving throw (DC 8 + your proficiency bonus + the ability modifier of the score increased by your Gift of the Gem Dragon feat). On a failure, the creature takes 2d8 force damage and is pushed 10 feet away from you. On a success, the creature takes half the damage but is not pushed. You can use this reaction a number of times equal to your proficiency bonus, and you regain all expended uses when you finish a long rest." compset="Feat" uniqueness="useronce">
    <fieldval field="usrCandid1" value="thingid.aINT | thingid.aWIS | thingid.aCHA"/>
    <usesource source="5eFFToD"/>
    <tag group="ChooseSrc1" tag="Hero"/>
    <tag group="User" tag="NoAutoName"/>
    <bootstrap thing="c5CTelkRepr"></bootstrap>
    <eval phase="First" priority="500"><![CDATA[
    doneif (tagis[Helper.Disable] <> 0)
    doneif (field[usrChosen1].ischosen = 0)

    field[usrChosen1].chosen.field[aStartMod].value += 1]]></eval>
    </thing>
  <thing id="c5CTelkRepr" name="Telekinetic Reprisal" description="When you take damage from a creature that is within 10 feet of you, you can use your reaction to send out telekinetic energy. The creature that dealt the damage must make a Strength saving throw (DC 8 + your proficiency bonus + the ability modifier of the score increased by your Gift of the Gem Dragon feat). On a failure, the creature takes 2d8 force damage and is pushed 10 feet away from you. On a success, the creature takes half the damage but is not pushed.\n\nYou can use this reaction a number of times equal to your proficiency bonus, and you regain all expended uses when you finish a long rest." compset="CustomSpec" uniqueness="unique">
    <tag group="Usage" tag="LongRest"/>
    <tag group="User" tag="Tracker"/>
    <tag group="FeatureTyp" tag="Reaction"/>
    <tag group="abAction" tag="Reaction"/>
    <tag group="abSave" tag="aSTR"/>
    <eval phase="First" priority="500" index="2"><![CDATA[
    doneif (tagis[Helper.Disable] <> 0)
    doneif (hero.childfound[f5CGftGemDrg].field[usrChosen1].ischosen = 0)

    perform hero.childfound[f5CGftGemDrg].field[usrChosen1].chosen.pulltags[StandardDC.?]]]></eval>
    <eval phase="PostAttr"><![CDATA[
    doneif (tagis[Helper.Disable] <> 0)

    field[trkMax].value = hero.childfound[ProfBonus].field[tProfBonus].value]]></eval>
    </thing>
  <thing id="f5CGftMetDrg" name="Gift of the Metallic Dragon" description="The power of metallic dragons grants you these benefits:\n\n{b}Draconic Healing.{/b} You learn {i}cure wounds{/i}. You can cast this spell without expending a spell slot. Once you cast this spell in this way, you can&apos;t do so again until you complete a long rest. You can also cast this spell using an appropriate level spell slot you have. The spell&apos;s spellcasting ability is Intelligence, Wisdom, or Charisma when you cast it with this feat (chosen when you gain this feat).\n\n{b}Protective Wings.{/b} When you or another creature you can see within 5 feet of you is hit by an attack roll, you can use your reaction to momentarily create spectral wings from your back. You can grant a bonus to the target&apos;s AC equaling your proficiency bonus against the attack roll, which could cause it to miss. You can use this reaction a number of times equal to your proficiency bonus, and you regain all expended uses when you finish a long rest." compset="Feat" uniqueness="useronce">
    <fieldval field="usrCandid1" value="thingid.aINT | thingid.aWIS | thingid.aCHA"/>
    <usesource source="5eFFToD"/>
    <tag group="ChooseSrc1" tag="Hero"/>
    <tag group="User" tag="NoAutoName"/>
    <bootstrap thing="spCureWoun">
      <autotag group="Custom" tag="OnlyIfCaster1"/>
      <autotag group="Helper" tag="Free"/>
      <autotag group="Helper" tag="Memorized"/>
      <autotag group="Hide" tag="Spell"/>
      </bootstrap>
    <bootstrap thing="spCureWoun">
      <autotag group="Helper" tag="SpellLike"/>
      <autotag group="Usage" tag="LongRest"/>
      <assignval field="trkMax" value="1"/>
      </bootstrap>
    <bootstrap thing="c5CProtWing"></bootstrap>
    <eval phase="Final" priority="10000"><![CDATA[var i1st as number

if (hero.childfound[SlotHold1].field[MaxAllow].value > 0) then
  i1st += 1
  endif

if (#levelcount[Warlock] >= 1) then
  i1st += 1
  endif


doneif (i1st = 0)

foreach pick in hero from BaseSpell where "Custom.OnlyIfCaster1"
  perform eachpick.delete[Hide.Spell]
  nexteach]]></eval>
    </thing>
  <thing id="c5CProtWing" name="Protective Wings" description="When you or another creature you can see within 5 feet of you is hit by an attack roll, you can use your reaction to momentarily create spectral wings from your back. You can grant a bonus to the target&apos;s AC equaling your proficiency bonus against the attack roll, which could cause it to miss.\n\nYou can use this reaction a number of times equal to your proficiency bonus, and you regain all expended uses when you finish a long rest." compset="CustomSpec" uniqueness="unique">
    <tag group="Usage" tag="LongRest"/>
    <tag group="User" tag="Tracker"/>
    <tag group="FeatureTyp" tag="Reaction"/>
    <tag group="abAction" tag="Reaction"/>
    <tag group="LvNamePar" tag="AppText"/>
    <eval phase="PostAttr"><![CDATA[
    doneif (tagis[Helper.Disable] <> 0)

    field[trkMax].value = hero.childfound[ProfBonus].field[tProfBonus].value
    field[abText].text = "+" & field[trkMax].value & " AC"]]></eval>
    </thing>
  </document>
