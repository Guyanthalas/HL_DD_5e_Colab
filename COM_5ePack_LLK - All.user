<?xml version="1.0" encoding="UTF-8"?>
<document signature="Hero Lab Data">
  <thing id="ra5CBrnDetSnt" name="Detect Sentience" description="The brain in a jar can sense creatures, including their location, within 300 feet of itself and through any barrier. They must have an Intelligence of 3 or higher, and cannot be under the influence of a mind blank spell." compset="RaceSpec">
    <fieldval field="abRange" value="300"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="abRange" tag="Feet"/>
    <tag group="FeatureTyp" tag="Special"/>
    </thing>
  <thing id="ra5CBrnMndBla" name="Mind Blast" description="The brain in a jar blasts a 60-foot cone with psychic power. Any creature in the cone must make a DC 15 Intelligence save, suffering 13 (2d8 + 4) psychic damage and becoming stunned for 1 minute on a failure. At the end of each of its subsequent turns, it can repeat the save to end the effect." compset="RaceSpec">
    <fieldval field="abRange" value="60"/>
    <fieldval field="wDieCount" value="2"/>
    <fieldval field="wDieSize" value="8"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="abRange" tag="Feet"/>
    <tag group="FeatureTyp" tag="Action"/>
    <tag group="abAction" tag="Action"/>
    <tag group="StandardDC" tag="aINT"/>
    <tag group="abSave" tag="aINT"/>
    <tag group="Recharge" tag="5"/>
    <tag group="DamageType" tag="dtpsychic"/>
    </thing>
  <thing id="ra5CKrkIndTent" name="Independent Tentacles" description="The clockwork kraken has eight tentacles, which are each treated as Medium creatures. They move independently on the clockwork&apos;s turn, and are considered to have to flying speed of 40 feet. Damage to an attacked tentacle applies to the clockwork kraken&apos;s total hit points, but an individual tentacle is destroyed if it takes more than 20 damage. Its multiattack is reduced if it loses more than 4 tentacles, as a tentacle can only attack once per turn. It can regrow any destroyed tentacles when it finishes a long rest." compset="RaceSpec">
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="FeatureTyp" tag="Special"/>
    </thing>
  <thing id="ra5CClkRch" name="Reach" description="The tentacle has reach the size of the whole room." compset="RaceSpec">
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="FeatureTyp" tag="Special"/>
    </thing>
  <thing id="ra5CGrtBrdIns" name="Bardic Inspiration" description="Garret can use a bonus action to give a creature visible to and within 60 feet of him a d6 inspiration die. The creature can roll the die and add it to one ability check, attack roll, or saving throw that it makes within the next 10 minutes. It can use this die after the roll, but not after the DM confirms the attempt succeeded or failed. Once the die is used, it is lost. A creature can only have one such die from Garret at a time." compset="RaceSpec">
    <fieldval field="trkMax" value="3"/>
    <fieldval field="abRange" value="60"/>
    <tag group="abAction" tag="Bonus"/>
    <tag group="Usage" tag="Day"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="User" tag="Tracker"/>
    <tag group="FeatureTyp" tag="Special"/>
    </thing>
  <thing id="ra5CMryFeyPrs" name="Fey Presence" description="Mary can force all creatures within 10 feet of her to make a DC 12 Wisdom save. On a failure, they are frightened or charmed by her (her choice) until the end of their next turn." compset="RaceSpec">
    <fieldval field="trkMax" value="1"/>
    <fieldval field="abRange" value="10"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="User" tag="Tracker"/>
    <tag group="abRange" tag="Feet"/>
    <tag group="FeatureTyp" tag="Special"/>
    <tag group="StandardDC" tag="aCHA"/>
    <tag group="abSave" tag="aWIS"/>
    <tag group="Usage" tag="ShortRest"/>
    </thing>
  <thing id="ra5COozFrgBon" name="Fragile Bones" description="The ooze-folk&apos;s walking speed goes down by 5 feet for every 5 damage it has suffered." compset="RaceSpec">
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="FeatureTyp" tag="Special"/>
    </thing>
  <thing id="ra5COozTrns" name="Transparent" description="Spotting an ooze-folk that hasn&apos;t move or attacked requires a successful DC12 Wisdom (Perception) check, even if the ooze-folk is clearly in view. If a creature unaware of the ooze-folk enters its space, it is surprised by the ooze-folk." compset="RaceSpec">
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="FeatureTyp" tag="Special"/>
    </thing>
  <thing id="sp5CFlkFam" name="Flock of Familiars" description="You temporarily summon three familiars&apos; spirits, which take animal forms of your choice. Each familiar uses the same rules and options for a familiar conjured by {i}find familiar{/i}. All the conjured familiars must be the same type (your choice of celestial, fey, or fiend). If you already have a familiar conjured by the {i}find familiar{/i} or a similar effect, then one fewer familiars are conjured by this spell.\nFamiliars summoned by this spell can telepathically communicate with you and share their sight and hearing while they are within 1 mile of you.\n\nWhen you cast a spell with a range of touch, one of the familiars conjured by this spell can deliver the spell, as normal. However, you can only cast one touch spell through a familiar per turn.\n\n{b}At Higher Levels{/b}. You conjure an additional familiar for each slot level above 2nd used to cast this spell." compset="Spell">
    <fieldval field="sRange" value="Touch"/>
    <fieldval field="sDuration" value="Concentration, up to 1 hour"/>
    <usesource source="p5eLLoKP"/>
    <tag group="sSchool" tag="Conjur"/>
    <tag group="sClass" tag="cHelpWlk"/>
    <tag group="sComp" tag="V"/>
    <tag group="sComp" tag="S"/>
    <tag group="sClass" tag="cHelpWiz"/>
    <tag group="sLevel" tag="2"/>
    <tag group="sCastTime" tag="Minute1"/>
    </thing>
  <thing id="sp5CSpdyCr" name="Speedy Courier" description="You summon a Small air elemental to a spot within range. The air elemental is formless, nearly transparent, has immunity to all damage, and cannot interact with other creatures or objects. It carries an open, empty chest whose interior dimensions are 3 feet on each side. While the spell lasts, you can place as many items inside the chest as will fit. You can then name a living creature you have met and seen at least once before, or any creature for which you possess a body part, including hair, nail clippings, or other similar body parts.\nAs soon as the chest&apos;s lid is closed, the elemental and the chest disappear, then reappear adjacent to the target creature. If the target creature is on another plane, or if it is protected against magical detection or location, the contents of the chest reappear on the ground at your feet.\n\nThe target knows the contents of the chest before it chooses whether or not to open it, and knows how long it has left to retrieve them (based on the duration of the spell). No other creature can open the chest and extract its contents. When the spell expires or when all the contents of the chest have been removed, the elemental and the chest disappear. The elemental also disappears if the target creature orders it to return the items to you. When the elemental disappears, any items not taken from the chest reappear on the ground at your feet.\n\n{b}At Higher Levels{/b}. When you cast this spell using an 8th-level spell slot, the chest can be sent to a creature on a different plane of existence." compset="Spell">
    <fieldval field="sCompDesc" value="25 gp worth of gold pieces or mineral goods, consumed by the spell"/>
    <fieldval field="sRange" value="10 feet"/>
    <fieldval field="sDuration" value="10 minutes"/>
    <usesource source="p5eLLoKP"/>
    <tag group="sClass" tag="cHelpWlk"/>
    <tag group="sComp" tag="V"/>
    <tag group="sComp" tag="S"/>
    <tag group="sComp" tag="M"/>
    <tag group="sClass" tag="cHelpWiz"/>
    <tag group="sLevel" tag="4"/>
    <tag group="sCastTime" tag="Action1"/>
    <tag group="sSchool" tag="Conjur"/>
    </thing>
  <thing id="sp5CCnjTwr" name="Conjure Tower" description="You conjure a round or square, two-story tower made of stone, wood, or similar sturdy materials. Each level of the tower is 10 feet tall and has an area of up to 100 square feet. A simple ladder and hatch provides access between floors. You choose the form of each level when you cast the spell, picking from these options:\n• A bedroom with a bed, chairs, chest, and magical fireplace\n• A study with desks, books, bookshelves, parchments, ink, and ink pens\n• A dining  area with a table, chairs, magical fireplace, containers, and cooking utensils\n• A lounge with couches, armchairs, side tables and footstools\n• A washroom with toilets, washtubs, a magical brazier, and sauna benches\n• An observatory with a telescope and maps of the night sky\n• An unfurnished, empty room\n\nThe interior of the tower is warm and dry, regardless of conditions outside. Removing anything conjured in the tower from the tower causes that item to disappear into smoke. At the end of the spell&apos;s duration, all creatures and objects within the tower that were not created by the spell appear safely outside on the ground, and all traces of the tower and its created contents disappear.\n\nYou can cast this spell again while it is active to maintain the tower&apos;s existence for another 24 hours. You can create a permanent tower by casting this spell in the same location and with the same configuration every day for one year.\n\n{b}At Higher Levels{/b}. The tower can have one additional story for each slot level beyond 3rd used to cast the spell." compset="Spell">
    <fieldval field="sCompDesc" value="a piece of stone, wood, or other building material"/>
    <fieldval field="sRange" value="30 feet"/>
    <fieldval field="sDuration" value="24 hours"/>
    <usesource source="p5eLLoKP"/>
    <tag group="sComp" tag="V"/>
    <tag group="sComp" tag="S"/>
    <tag group="sClass" tag="cHelpWiz"/>
    <tag group="sLevel" tag="3"/>
    <tag group="sCastTime" tag="Minutes10"/>
    <tag group="sSchool" tag="Conjur"/>
    </thing>
  <thing id="io5CEnc3Drg" name="Enchanted Three-Dragon Ante Set" description="One card in this deck is enchanted to appear as whatever specific card its owner wants. This magic works only 25 percent of the time. The deck is valued at 500 gp for anyone who doesn&apos;t mind the risk, or who isn&apos;t told about it." compset="Wondrous">
    <fieldval field="gCost" value="500"/>
    <usesource source="p5eLLoKP"/>
    <tag group="GearType" tag="gtWondrous"/>
    </thing>
  <thing id="io5CIounSlf" name="Ioun Stone, Self-Preservation" description="Using an action to toss the stone into the air causes the stone to orbit your head at a distance of 1d3 feet, and the stone grants you a special benefit. To separate the stone from you, a creature must make either a successful attack roll its AC or a successful DC 24 Dexterity (Acrobatics) check. You can use an action to grab and stow the stone, ending its effect.\n\nA stone has AC 24, 10 hit points, and is resistant to all damage. While orbiting your head, it is considered worn by you.\n\nWhile the stone is in orbit, you gain a +1 bonus to Intelligence saves." compset="Wondrous">
    <usesource source="p5eLLoKP"/>
    <tag group="Helper" tag="EquipMag"/>
    <tag group="Helper" tag="EquipAvail"/>
    <tag group="Helper" tag="NeedAttune"/>
    <tag group="ItemRarity" tag="Rare"/>
    <tag group="GearType" tag="gtWondrous"/>
    <eval phase="PreLevel" priority="10000">doneif (field[gIsEquip].value = 0)
doneif (field[gIsAttuned].value = 0)

hero.child[svINT].field[Bonus].value += 1</eval>
    </thing>
  <thing id="i5CBldMed" name="Blade of the Medusa" description="When you attack a creature with this magic weapon and roll a 20 on the attack roll, the creature must make a DC 15 Constitution save in addition to taking the attack&apos;s normal effects. On a failure, the creature is restrained and must make another Constitution save at the end of each of its turns. If it successfully saves against this effect three times, the effect ends. If it fails its saves three times, it is turned to stone and is petrified for 1 hour.\nA creature is immune to this effect if it is immune to the weapon&apos;s damage type, does not have a body made of flesh, or has legendary actions.\n\n{b}Curse.{/b} Attuning to this cursed weapon extends the curse to you. Until a {i}remove curse{/i} spell or similar magic breaks the curse, you are unwilling to part with the weapon. Whenever you attack a creature with this weapon and roll a 1 on the attack roll, you make a DC 15 Constitution save, beginning the same process as above." compset="MagicWep">
    <usesource source="p5eLLoKP"/>
    <tag group="LvNamePar" tag="AppText"/>
    <tag group="Helper" tag="NeedAttune"/>
    <tag group="Helper" tag="CursedItem"/>
    <tag group="ItemRarity" tag="VeryRare"/>
    <eval phase="PreLevel" priority="10000"><![CDATA[doneif (field[gIsEquip].value = 0)
doneif (field[gIsAttuned].value = 0)
      field[abText].text = "DC 15 CON"]]></eval>
    <eval phase="Final" priority="20000" index="7"><![CDATA[
      ~restrict the list of weapons to valid ones only
      gizmo.child[gCustMagic].field[gItemExpr].text = #magicgearexpr[] & " & (wGroup.Sword)"

      ~set our name based on the type of weapon chosen
      field[livename].text = ""
      perform gizmo.findchild[BaseWep].setfocus
      if (state.isfocus <> 0) then
        field[livename].text &= titlecase(focus.field[name].text) & " of the Medusa"
      else
        field[livename].text &= "Blade of the Medusa"
        endif
      field[shortname].text = field[livename].text
      field[sbName].text = field[livename].text]]>
      <after name="gItemExpr Set"/>
      </eval>
    <child entity="gMagWeapon"></child>
    </thing>
  <thing id="io5CGldBblP" name="Galder&apos;s Bubble Pipe" description="This pipe blows odorless bubbles instead of smoke when used. The pipe has 3 charges, and regains all expended charges each dawn. While holding the pipe, you can spend charges in these ways:\n\n• You cast {i}fog cloud{/f} with an action (1 charge).\n• You cast {i}misty{/i} step with a bonus action (2 charges).\n• You can summon a steam mephit with an action (3 charges). The mephit is friendly to you, obeys your spoken commands, and acts on its own initiative. It disappears in a harmless puff of steam after 1 minute or if it ends its turn more than 60 feet from the pipe." compset="Wondrous">
    <fieldval field="trkMax" value="3"/>
    <usesource source="p5eLLoKP"/>
    <tag group="User" tag="Tracker"/>
    <tag group="Usage" tag="Day"/>
    <tag group="Helper" tag="NeedAttune"/>
    <tag group="ItemRarity" tag="Rare"/>
    <tag group="GearType" tag="gtWondrous"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="Helper" tag="AlwaysAvl"/>
    <bootstrap thing="spMistStep">
      <autotag group="Helper" tag="ItemSpell"/>
      <autotag group="ChargeUse" tag="2"/>
      <autotag group="Usage" tag="Charges"/>
      </bootstrap>
    <bootstrap thing="spFogClou">
      <autotag group="Helper" tag="ItemSpell"/>
      <autotag group="ChargeUse" tag="1"/>
      <autotag group="Usage" tag="Charges"/>
      </bootstrap>
    </thing>
  <thing id="i5CGmblBld" name="Gambler&apos;s Blade" description="Choose a magical bonus of +1 to +3. This sword has that bonus to its attack and damage rolls. However, you have an equal penalty  (-1 to -3) to your death saving throws. You can change this magical bonus/penalty daily at dawn.\n\n{b}Curse.{/b} Attuning to this cursed weapon extends the curse to you. Until the curse is broken with a {i}remove curse{/i} spell or similar magic, you are unwilling to part with the weapon." compset="MagicWep">
    <arrayval field="usrArray" index="0" value="+1"/>
    <arrayval field="usrArray" index="1" value="+2"/>
    <arrayval field="usrArray" index="2" value="+3"/>
    <usesource source="p5eLLoKP"/>
    <tag group="Helper" tag="ActivMenu"/>
    <tag group="Helper" tag="NeedAttune"/>
    <tag group="Helper" tag="CursedItem"/>
    <tag group="ItemRarity" tag="Rare"/>
    <tag group="LvNamePar" tag="AppText"/>
    <eval phase="PreAttr"><![CDATA[doneif (field[gIsAttuned].value = 0)

var iBon as number

iBon = field[usrIndex].value + 1

field[Bonus].value = iBon
field[abText].text = "-" & iBon & " on death saves"]]></eval>
    <eval phase="Final" priority="20000" index="7"><![CDATA[
      ~restrict the list of weapons to valid ones only
      gizmo.child[gCustMagic].field[gItemExpr].text = #magicgearexpr[] & " & (wGroup.Sword)"

      ~set our name based on the type of weapon chosen
      field[livename].text = "Gambler's "
      perform gizmo.findchild[BaseWep].setfocus
      if (state.isfocus <> 0) then
        field[livename].text &= titlecase(focus.field[name].text)
      else
        field[livename].text &= "Blade"
        endif
      field[shortname].text = field[livename].text
      field[sbName].text = field[livename].text]]>
      <after name="gItemExpr Set"/>
      </eval>
    <child entity="gMagWeapon"></child>
    </thing>
  <thing id="i5CHewArm" name="Heward&apos;s Hireling Armor" description="While wearing this armor, you gain a +1 bonus to AC. The armor&apos;s animated straps can assist with the drawing and sheathing of weapons, such that you can draw or stow two one-handed weapons when you would normally be able to draw or stow only one.\n\nThe armor also has six pockets, each of which is an extradimensional space. Each pocket holds up to 20 pounds of material in its volume of 2 cubic feet. Regardless of the pockets&apos; contents, the armor always weighs 10 pounds. The normal rules for object interactions apply when placing objects into the pockets. Retrieving an item from a pocket of the armor requires the use of an action. When you reach into a pocket for a specific item, that item is always magically on top.\n\nThe normal rules for placing an item with an extradimensional space inside a similar item applies to this armor. So don&apos;t do that." compset="MagicArmor">
    <fieldval field="Bonus" value="1"/>
    <fieldval field="gWeight" value="10"/>
    <fieldval field="gHeldMaxWt" value="120"/>
    <usesource source="p5eLLoKP"/>
    <tag group="ItemRarity" tag="VeryRare"/>
    <tag group="thing" tag="holder"/>
    <tag group="Helper" tag="NeedAttune"/>
    <gear>~ Our contents count for no weight at all!
      field[gearNet].value = field[gearWeight].value</gear>
    <eval phase="PreLevel" priority="10000">doneif (field[gIsEquip].value = 0)



      perform assign[Helper.ShowSpec]</eval>
    <child entity="mSpecMagic">
      <bootstrap thing="mLeather"></bootstrap>
      </child>
    </thing>
  <thing id="io5CIounHis" name="Ioun Stone, Historical Knowledge" description="Using an action to toss the stone into the air causes the stone to orbit your head at a distance of 1d3 feet, and the stone grants you a special benefit. To separate the stone from you, a creature must make either a successful attack roll its AC or a successful DC 24 Dexterity (Acrobatics) check. You can use an action to grab and stow the stone, ending its effect.\n\nA stone has AC 24, 10 hit points, and is resistant to all damage. While orbiting your head, it is considered worn by you.\n\nWhile the stone is in orbit, you gain proficiency in the History skill, or if you&apos;re already proficient with it, a +1 bonus to checks with that skill." compset="Wondrous">
    <usesource source="p5eLLoKP"/>
    <tag group="Helper" tag="EquipMag"/>
    <tag group="Helper" tag="EquipAvail"/>
    <tag group="Helper" tag="NeedAttune"/>
    <tag group="ItemRarity" tag="Rare"/>
    <tag group="GearType" tag="gtWondrous"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[doneif (field[gIsEquip].value = 0)
doneif (field[gIsAttuned].value = 0)

if (hero.tagis[ProfSkill.skHistory] <> 0) then
   hero.childfound[skHistory].field[Bonus].value += 1
else
   perform hero.assign[ProfSkill.skHistory]
endif]]></eval>
    </thing>
  <thing id="io5CIounLng" name="Ioun Stone, Language Knowledge" description="Using an action to toss the stone into the air causes the stone to orbit your head at a distance of 1d3 feet, and the stone grants you a special benefit. To separate the stone from you, a creature must make either a successful attack roll its AC or a successful DC 24 Dexterity (Acrobatics) check. You can use an action to grab and stow the stone, ending its effect.\n\nA stone has AC 24, 10 hit points, and is resistant to all damage. While orbiting your head, it is considered worn by you.\n\nYou are fluent in one extra language, chosen by the DM, while this stone orbits your head." compset="Wondrous">
    <usesource source="p5eLLoKP"/>
    <tag group="Helper" tag="EquipMag"/>
    <tag group="Helper" tag="EquipAvail"/>
    <tag group="Helper" tag="NeedAttune"/>
    <tag group="ItemRarity" tag="Rare"/>
    <tag group="GearType" tag="gtWondrous"/>
    <tag group="Helper" tag="IounStone"/>
    <bootstrap thing="cfg5CIounLng"></bootstrap>
    <eval phase="First">doneif (field[gIsAttuned].value = 0)

hero.childfound[cfg5CIounLng].field[cfgLaMax1].value += 1</eval>
    </thing>
  <thing id="io5CIounNat" name="Ioun Stone, Natural Knowledge" description="Using an action to toss the stone into the air causes the stone to orbit your head at a distance of 1d3 feet, and the stone grants you a special benefit. To separate the stone from you, a creature must make either a successful attack roll its AC or a successful DC 24 Dexterity (Acrobatics) check. You can use an action to grab and stow the stone, ending its effect.\n\nA stone has AC 24, 10 hit points, and is resistant to all damage. While orbiting your head, it is considered worn by you.\n\nWhile the stone is in orbit, you gain proficiency in the Nature skill, or if you&apos;re already proficient with it, a +1 bonus to checks with that skill." compset="Wondrous">
    <usesource source="p5eLLoKP"/>
    <tag group="Helper" tag="EquipMag"/>
    <tag group="Helper" tag="EquipAvail"/>
    <tag group="Helper" tag="NeedAttune"/>
    <tag group="ItemRarity" tag="Rare"/>
    <tag group="GearType" tag="gtWondrous"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[doneif (field[gIsEquip].value = 0)
doneif (field[gIsAttuned].value = 0)

if (hero.tagis[ProfSkill.skNature] <> 0) then
   hero.childfound[skNature].field[Bonus].value += 1
else
   perform hero.assign[ProfSkill.skNature]
endif]]></eval>
    </thing>
  <thing id="io5CIounRel" name="Ioun Stone, Religious Knowledge" description="Using an action to toss the stone into the air causes the stone to orbit your head at a distance of 1d3 feet, and the stone grants you a special benefit. To separate the stone from you, a creature must make either a successful attack roll its AC or a successful DC 24 Dexterity (Acrobatics) check. You can use an action to grab and stow the stone, ending its effect.\n\nA stone has AC 24, 10 hit points, and is resistant to all damage. While orbiting your head, it is considered worn by you.\n\nWhile the stone is in orbit, you gain proficiency in the Religion skill, or if you&apos;re already proficient with it, a +1 bonus to checks with that skill." compset="Wondrous">
    <usesource source="p5eLLoKP"/>
    <tag group="Helper" tag="EquipMag"/>
    <tag group="Helper" tag="EquipAvail"/>
    <tag group="Helper" tag="NeedAttune"/>
    <tag group="ItemRarity" tag="Rare"/>
    <tag group="GearType" tag="gtWondrous"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[doneif (field[gIsEquip].value = 0)
doneif (field[gIsAttuned].value = 0)

if (hero.tagis[ProfSkill.skReligion] <> 0) then
   hero.childfound[skReligion].field[Bonus].value += 1
else
   perform hero.assign[ProfSkill.skReligion]
endif]]></eval>
    </thing>
  <thing id="io5CIounInt" name="Ioun Stone, Supreme Intellect" description="Using an action to toss the stone into the air causes the stone to orbit your head at a distance of 1d3 feet, and the stone grants you a special benefit. To separate the stone from you, a creature must make either a successful attack roll its AC or a successful DC 24 Dexterity (Acrobatics) check. You can use an action to grab and stow the stone, ending its effect.\n\nA stone has AC 24, 10 hit points, and is resistant to all damage. While orbiting your head, it is considered worn by you.\n\nWhile the stone is in orbit, you gain a +1 bonus to Intelligence checks." compset="Wondrous">
    <usesource source="p5eLLoKP"/>
    <tag group="Helper" tag="EquipMag"/>
    <tag group="Helper" tag="EquipAvail"/>
    <tag group="Helper" tag="NeedAttune"/>
    <tag group="ItemRarity" tag="Rare"/>
    <tag group="GearType" tag="gtWondrous"/>
    <eval phase="PreLevel" priority="10000"><![CDATA[doneif (field[gIsEquip].value = 0)
doneif (field[gIsAttuned].value = 0)

foreach pick in hero from BaseSkill where "SkillAbil.aINT"
   eachpick.field[Bonus].value += 1
   nexteach]]></eval>
    </thing>
  <thing id="i5CLthGlmA" name="Leather Golem Armor" description="While wearing this armor, you gain a +1 bonus to AC and to saves versus spells and other magical effects. You also gain these properties:\n\n{b}Immutable Form.{/b} You have immunity to any spell or effect that would alter your form.\n{b}Lightning Absorption.{/b} You are resistant to lightning damage. Whenever you take lightning damage, you gain 5 temporary hit points.\n{b}Aversion of Fire.{/b} If you take fire damage, you have disadvantage on attack rolls and ability checks until the end of your next turn.\n{b}Berserk.{/b} Whenever a critical hit is made against you, roll a d6. On a 6, the armor causes you to go berserk. On each of your turns while berserk, you attack the closest visible creature. If no creature is close enough to move to and attack, you attack an object, preferring an object smaller than yourself. Once the armor causes you to go berserk, it cannot be removed from you. You continue to attack until you are incapacitated or until another creature is able to calm you with appropriate magic (like {i}calm emotions{/i}) or a successful DC 15 Charisma (Persuasion) check.\n{b}Curse.{/b} Attuning to this cursed armor extends the curse to you. Until broken by a {i}remove curse{/i} spell or similar magic, the curse causes you to be unwilling to part with the armor. Additionally, while you wear the cursed armor, you gain these properties:" compset="MagicArmor">
    <fieldval field="Bonus" value="1"/>
    <fieldval field="gWeight" value="10"/>
    <usesource source="p5eLLoKP"/>
    <tag group="Helper" tag="NeedAttune"/>
    <tag group="Helper" tag="CursedItem"/>
    <tag group="ItemRarity" tag="Rare"/>
    <eval phase="PreLevel" priority="10000"><![CDATA[doneif (field[gIsEquip].value = 0)
doneif (field[gIsAttuned].value = 0)

      #situational[hero.child[svAll],"+1 versus spells and magical effects",field[thingname].text]
      perform assign[Helper.ShowSpec]
      perform hero.assign[DamageRes.dtLightnin]]]></eval>
    <child entity="mSpecMagic">
      <bootstrap thing="mLeather"></bootstrap>
      </child>
    </thing>
  <thing id="i5CPlyBld" name="Polymorph Blade" description="When you attack a creature with this magic weapon and roll a 20 on the attack roll, the creature must make a DC 15 Wisdom save in addition to taking the attack&apos;s normal effects. On a failure, the creature has the {i}polymorph{/i} spell cast on it. Roll a d20 and consult the table below to determine the form the target creature is transformed into.\n\n{b}d20 New Form{/b}\n1 Tyrannosaurus Rex\n2 Giant Ape\n3 Elephant\n4 Giant scorpion\n5 Rhinoceros\n6 Polar bear\n7 Giant toad\n8 Giant eagle\n9 Black bear\n10 Crocodile\n11 Wolf\n12 Horse\n13 Ox\n14 Giant frog\n15 Poisonous snake\n16 Hawk\n17 Octopus\n18 Cat\n19 Rat\n20 Rabbit\n\nA creature is immune to this effect if it is immune to weapon&apos;s damage type, is a shapechanger, or has legendary actions.\n\n{b}Curse.{/b} Attuning to this cursed weapon extends the curse to you. Until broken by a {i}remove curse{/i} spell or similar magic, the curse causes you to be unwilling to part with the weapon. Whenever you attack a creature with this weapon and roll a 1 on the attack roll, you suffer the same polymorph effect, rolling on the table as if you were the target." compset="MagicWep">
    <usesource source="p5eLLoKP"/>
    <tag group="SpInfo" tag="spPolymorp"/>
    <tag group="Helper" tag="NeedAttune"/>
    <tag group="Helper" tag="CursedItem"/>
    <tag group="ItemRarity" tag="VeryRare"/>
    <eval phase="PreLevel" priority="10000">doneif (field[gIsEquip].value = 0)</eval>
    <eval phase="Final" priority="20000" index="7"><![CDATA[
      ~restrict the list of weapons to valid ones only
      gizmo.child[gCustMagic].field[gItemExpr].text = #magicgearexpr[] & " & (wGroup.Sword)"

      ~set our name based on the type of weapon chosen
      field[livename].text = "Polymorph "
      perform gizmo.findchild[BaseWep].setfocus
      if (state.isfocus <> 0) then
        field[livename].text &= titlecase(focus.field[name].text)
      else
        field[livename].text &= "Sword"
        endif
      field[shortname].text = field[livename].text
      field[sbName].text = field[livename].text]]>
      <after name="gItemExpr Set"/>
      </eval>
    <child entity="gMagWeapon"></child>
    </thing>
  <thing id="i5CPwrdArm" name="Powered Armor" description="While wearing this articulated plate armor, you gain these benefits:\n\n• You have a +1 bonus to AC.\n• Your Strength score is  a minimum of 18 (if your Strength is already higher, this benefit has no effect).\n• You make death saving throws with advantage.\n\nYou can use a bonus action to draw power from an energy cell or to sacrifice hit points to gain one of these benefits:\n\n• You gain 2d6 + 5 temporary hit points (1 charge or 5 hit points).\n• You gain 15 feet of flying speed for 1 minute (1 charge or 5 hit points).\n• You fire and arm-mounted laser: Ranged Weapon Attack: +8 to hit, range 120 feet, one target. Hit: 2d6 radiant damage (1 charge or 5 hit points).\n• You translate any writing you can see in any nonmagical language, to a total of one thousand words over 1 minute (1 charge or 5 hit points).\n• Use the armor to breathe normally in any environment for up to 1 hour (1 charge or 5 hit points).\n• You gain 60 feet of darkvision for up to 1 hour (1 charge or 5 hit points).\n\nThe armor can only use energy cell at a time. The armor comes with one energy cell attached, containing 2d10 charges." compset="MagicArmor">
    <fieldval field="Bonus" value="1"/>
    <fieldval field="gWeight" value="65"/>
    <fieldval field="trkMax" value="20"/>
    <fieldval field="actName" value="Flying (1 charge/5 HP, 1 min.)"/>
    <fieldval field="actName2" value="Darkvision (1 charge/5 HP, 1 hour)"/>
    <usesource source="p5eLLoKP"/>
    <tag group="User" tag="Tracker"/>
    <tag group="Usage" tag="Charges"/>
    <tag group="User" tag="Activation"/>
    <tag group="Helper" tag="NeedAttune"/>
    <tag group="ItemRarity" tag="Legendary"/>
    <tag group="Helper" tag="EquipAvail"/>
    <bootstrap thing="thp5CPwrdArm">
      <containerreq phase="First" priority="100"><![CDATA[fieldval:gIsAttuned <> 0]]></containerreq>
      </bootstrap>
    <bootstrap thing="xFly">
      <containerreq phase="First" priority="100"><![CDATA[fieldval:abilActive <> 0 & fieldval:gIsAttuned <> 0]]></containerreq>
      <autotag group="Value" tag="15"/>
      </bootstrap>
    <bootstrap thing="raDarkVis">
      <containerreq phase="First" priority="100"><![CDATA[fieldval:abilAct2 <> 0 & fieldval:gIsAttuned <> 0]]></containerreq>
      <autotag group="Value" tag="60"/>
      </bootstrap>
    <bootstrap thing="w5CVehAttk">
      <containerreq phase="First" priority="100"><![CDATA[fieldval:gIsAttuned <> 0]]></containerreq>
      <autotag group="DamageType" tag="dtRadiant"/>
      <autotag group="wCategory" tag="RangeProj"/>
      <autotag group="Helper" tag="NoAttrDam"/>
      <assignval field="sbName" value="Arm-Mounted Laser (1 charge/5HP)"/>
      <assignval field="wRangeNorm" value="120"/>
      <assignval field="wDieSize" value="6"/>
      <assignval field="wDieCount" value="2"/>
      <assignval field="livename" value="Arm-Mounted Laser (1 charge/5HP)"/>
      </bootstrap>
    <eval phase="PreLevel" priority="10000">doneif (field[gIsEquip].value = 0)
doneif (field[gIsAttuned].value = 0)

      hero.child[aSTR].field[Minimum].value = maximum(hero.child[aSTR].field[Minimum].value,18)</eval>
    <eval phase="Final" priority="11000" index="2">doneif (field[gIsAttuned].value = 0)


hero.childfound[w5CVehAttk].field[wRanAtk].value = 8</eval>
    <child entity="mSpecMagic">
      <bootstrap thing="mPlate"></bootstrap>
      </child>
    </thing>
  <thing id="cfg5CIounLng" name="Language Ioun" compset="Configure" uniqueness="unique">
    <fieldval field="cfgLaAllo1" value="component.BaseLang &amp; !thingid.lAll &amp; !Helper.SecretLang &amp; !Helper.Helper"/>
    </thing>
  <thing id="g5CLLKEnrg" name="Energy Cell" description="An energy cell can be used with Powered Armor. It contains 2d10 charges." compset="Gear">
    <usesource source="p5eLLoKP"/>
    <tag group="GearType" tag="gtAdventGe"/>
    </thing>
  <thing id="thp5CPwrdArm" name="Powered Armor (2d6+5, 1 charge or 5 HP)" compset="TempHpPool">
    <fieldval field="thpMinAllw" value="7"/>
    <fieldval field="thpMaxAllw" value="17"/>
    <tag group="Helper" tag="IndepPool"/>
    </thing>
  <thing id="r5CBrain" name="Brain in a Jar (Medium)" compset="Race">
    <fieldval field="rHitDice" value="9"/>
    <fieldval field="rHDSides" value="8"/>
    <fieldval field="rHPStart" value="58"/>
    <fieldval field="rSTR" value="-9"/>
    <fieldval field="rDEX" value="-9"/>
    <fieldval field="rCON" value="5"/>
    <fieldval field="rINT" value="9"/>
    <fieldval field="rCHA" value="5"/>
    <fieldval field="rSpeed" value="0"/>
    <fieldval field="rAC" value="6"/>
    <fieldval field="rCR" value="6"/>
    <usesource source="p5eLLoKP"/>
    <tag group="ProfSave" tag="svINT"/>
    <tag group="ProfSave" tag="svCHA"/>
    <tag group="RaceType" tag="NPC"/>
    <tag group="RaceSize" tag="Medium0"/>
    <tag group="DamageImm" tag="dtNecrotic"/>
    <tag group="DamageImm" tag="dtPoison"/>
    <tag group="DamageImm" tag="dtPsychic"/>
    <tag group="CondImm" tag="pcnCharmed"/>
    <tag group="CondImm" tag="pcnExhaust"/>
    <tag group="CondImm" tag="pcnFright"/>
    <tag group="Alignment" tag="Unaligned"/>
    <bootstrap thing="tpUndead"></bootstrap>
    <bootstrap thing="ra5CBrnMndBla"></bootstrap>
    <bootstrap thing="raDarkVis">
      <autotag group="Value" tag="60"/>
      </bootstrap>
    <bootstrap thing="ra5CMagResN">
      <assignval field="abText" value="The brain in a jar"/>
      </bootstrap>
    <bootstrap thing="xInnatSpel">
      <assignval field="livename" value="Innate Spellcasting (Psionics)"/>
      <assignval field="sbName" value="Innate Spellcasting (Psionics)"/>
      </bootstrap>
    <bootstrap thing="spMageHand">
      <autotag group="Helper" tag="RaceSpell"/>
      <autotag group="Usage" tag="AtWill"/>
      </bootstrap>
    <bootstrap thing="spZoneTrut">
      <autotag group="Helper" tag="RaceSpell"/>
      <autotag group="Usage" tag="AtWill"/>
      </bootstrap>
    <bootstrap thing="spDeteThou">
      <autotag group="Helper" tag="RaceSpell"/>
      <autotag group="Usage" tag="AtWill"/>
      </bootstrap>
    <bootstrap thing="spCharPers">
      <autotag group="Helper" tag="RaceSpell"/>
      <autotag group="Usage" tag="Day"/>
      <assignval field="trkMax" value="3"/>
      </bootstrap>
    <bootstrap thing="spCommand">
      <autotag group="Helper" tag="RaceSpell"/>
      <autotag group="Usage" tag="Day"/>
      <assignval field="trkMax" value="3"/>
      </bootstrap>
    <bootstrap thing="spHoldPers">
      <autotag group="Helper" tag="RaceSpell"/>
      <autotag group="Usage" tag="Day"/>
      <assignval field="trkMax" value="3"/>
      </bootstrap>
    <bootstrap thing="spCompulsi">
      <autotag group="Helper" tag="RaceSpell"/>
      <autotag group="Usage" tag="Day"/>
      <assignval field="trkMax" value="1"/>
      </bootstrap>
    <bootstrap thing="spHoldMons">
      <autotag group="Helper" tag="RaceSpell"/>
      <autotag group="Usage" tag="Day"/>
      <assignval field="trkMax" value="1"/>
      </bootstrap>
    <bootstrap thing="spSleep">
      <autotag group="Helper" tag="RaceSpell"/>
      <autotag group="Usage" tag="Day"/>
      <assignval field="trkMax" value="1"/>
      <assignval field="sNameMod" value="3rd-level"/>
      </bootstrap>
    <bootstrap thing="spHideLaug">
      <autotag group="Helper" tag="RaceSpell"/>
      <autotag group="Usage" tag="Day"/>
      <assignval field="trkMax" value="1"/>
      </bootstrap>
    <bootstrap thing="ra5CBrnDetSnt"></bootstrap>
    <link linkage="castattr" thing="aINT"/>
    </thing>
  <thing id="r5CCloKr" name="Clockwork Kraken" compset="Race">
    <fieldval field="rHitDice" value="15"/>
    <fieldval field="rHDSides" value="10"/>
    <fieldval field="rHPStart" value="142"/>
    <fieldval field="rSTR" value="10"/>
    <fieldval field="rDEX" value="2"/>
    <fieldval field="rCON" value="8"/>
    <fieldval field="rINT" value="-7"/>
    <fieldval field="rWIS" value="1"/>
    <fieldval field="rCHA" value="-9"/>
    <fieldval field="rAC" value="6"/>
    <fieldval field="rCR" value="10"/>
    <fieldval field="rMultiatt" value="The clockwork kraken attacks with four tentacle slams."/>
    <usesource source="p5eLLoKP"/>
    <tag group="RaceType" tag="NPC"/>
    <tag group="Alignment" tag="Unaligned"/>
    <tag group="RaceSize" tag="Large1"/>
    <tag group="DamageRes" tag="dtFire"/>
    <tag group="DamComRes" tag="dcAtkNonMa"/>
    <tag group="DamageImm" tag="dtPoison"/>
    <tag group="DamageImm" tag="dtPsychic"/>
    <tag group="CondImm" tag="pcnCharmed"/>
    <tag group="CondImm" tag="pcnExhaust"/>
    <tag group="CondImm" tag="pcnFright"/>
    <tag group="CondImm" tag="pcnParaly"/>
    <tag group="CondImm" tag="pcnPetri"/>
    <tag group="CondImm" tag="pcnPoison"/>
    <bootstrap thing="raDarkVis">
      <autotag group="Value" tag="120"/>
      </bootstrap>
    <bootstrap thing="wOtherMel">
      <autotag group="AttackTarg" tag="1Target"/>
      <autotag group="DamTypeOvr" tag="dtBludgeon"/>
      <assignval field="wDamBonus" value="0"/>
      <assignval field="livename" value="Tentacle Slam"/>
      <assignval field="sbName" value="Tentacle Slam"/>
      <assignval field="wReach" value="5"/>
      <assignval field="wDieCount" value="2"/>
      <assignval field="wDieSize" value="6"/>
      </bootstrap>
    <bootstrap thing="tpConst"></bootstrap>
    <bootstrap thing="xMultiatt"></bootstrap>
    <bootstrap thing="ra5CKrkIndTent"></bootstrap>
    <bootstrap thing="ra5CMagResN">
      <assignval field="abText" value="The clockwork kraken"/>
      </bootstrap>
    <bootstrap thing="lOther">
      <assignval field="livename" value="Understands the languages of its creator but can&apos;t speak"/>
      <assignval field="sbName" value="understands the languages of its creator but can&apos;t speak"/>
      </bootstrap>
    </thing>
  <thing id="r5CGarLe" name="Garret Levistusson" compset="Race">
    <fieldval field="rHitDice" value="8"/>
    <fieldval field="rHDSides" value="8"/>
    <fieldval field="rHPStart" value="44"/>
    <fieldval field="rSTR" value="1"/>
    <fieldval field="rDEX" value="4"/>
    <fieldval field="rCON" value="2"/>
    <fieldval field="rINT" value="1"/>
    <fieldval field="rWIS" value="2"/>
    <fieldval field="rCHA" value="7"/>
    <fieldval field="rAC" value="2"/>
    <fieldval field="rCR" value="2"/>
    <fieldval field="rSpCastLev" value="2"/>
    <usesource source="p5eLLoKP"/>
    <tag group="ProfDouble" tag="skInvestig"/>
    <tag group="ProfDouble" tag="skDecept"/>
    <tag group="ProfSkill" tag="skPerform"/>
    <tag group="ProfSkill" tag="skPersuas"/>
    <tag group="RaceType" tag="NPC"/>
    <tag group="Alignment" tag="Chaotic"/>
    <tag group="Alignment" tag="NeutralGE"/>
    <tag group="RaceSize" tag="Medium0"/>
    <tag group="sClass" tag="cHelpBrd"/>
    <tag group="ArmProfGrp" tag="WepMartial"/>
    <bootstrap thing="tpHumanoid"></bootstrap>
    <bootstrap thing="xSpellcast">
      <assignval field="CustDesc" value="Garret is a 2nd-level spellcaster. Garret&apos;s spellcasting ability is Charisma, they have a +5 to hit on spell attacks, and a save DC of 13. They can cast these bard spells:"/>
      </bootstrap>
    <bootstrap thing="lAbyssal"></bootstrap>
    <bootstrap thing="lCommon"></bootstrap>
    <bootstrap thing="lInfernal"></bootstrap>
    <bootstrap thing="ra5CGrtBrdIns"></bootstrap>
    <bootstrap thing="ra5CCunActN">
      <assignval field="abText2" value="his"/>
      <assignval field="abText" value="Garret"/>
      </bootstrap>
    <bootstrap thing="ra5CSneAttN">
      <assignval field="abValue" value="7"/>
      <assignval field="abValue2" value="2"/>
      <assignval field="abValue3" value="6"/>
      <assignval field="abText" value="Garret"/>
      <assignval field="abText2" value="he"/>
      </bootstrap>
    <link linkage="castattr" thing="aCHA"/>
    </thing>
  <thing id="r5CMarGr" name="Mary Greymalkin" compset="Race">
    <fieldval field="rHitDice" value="7"/>
    <fieldval field="rHDSides" value="8"/>
    <fieldval field="rHPStart" value="45"/>
    <fieldval field="rDEX" value="2"/>
    <fieldval field="rINT" value="4"/>
    <fieldval field="rWIS" value="4"/>
    <fieldval field="rCHA" value="5"/>
    <fieldval field="rCR" value="2"/>
    <fieldval field="rSpCastLev" value="5"/>
    <usesource source="p5eLLoKP"/>
    <tag group="ProfSave" tag="svCHA"/>
    <tag group="ProfSkill" tag="skArcana"/>
    <tag group="ProfSkill" tag="skNature"/>
    <tag group="ProfSkill" tag="skReligion"/>
    <tag group="ProfSkill" tag="skMedicine"/>
    <tag group="RaceType" tag="NPC"/>
    <tag group="Alignment" tag="NeutralLC"/>
    <tag group="Alignment" tag="NeutralGE"/>
    <tag group="RaceSize" tag="Medium0"/>
    <tag group="sClass" tag="cHelpWlk"/>
    <tag group="ArmProfGrp" tag="WepSimple"/>
    <tag group="Helper" tag="WarlocCast"/>
    <tag group="ProfSave" tag="svWIS"/>
    <bootstrap thing="lAbyssal"></bootstrap>
    <bootstrap thing="lCelestial"></bootstrap>
    <bootstrap thing="lCommon"></bootstrap>
    <bootstrap thing="lElvish"></bootstrap>
    <bootstrap thing="lInfernal"></bootstrap>
    <bootstrap thing="lSylvan"></bootstrap>
    <bootstrap thing="ra5CMryFeyPrs"></bootstrap>
    <bootstrap thing="tpHumanoid"></bootstrap>
    <bootstrap thing="xSpellcast">
      <assignval field="CustDesc" value="Mary is a 5th-level spellcaster. Mary&apos;s spellcasting ability is Charisma, they have a +4 to hit on spell attacks, and a save DC of 12. They can cast these warlock spells:"/>
      </bootstrap>
    <bootstrap thing="ra5CFeyAncN">
      <assignval field="abText" value="Mary"/>
      <assignval field="abText2" value="her"/>
      </bootstrap>
    <link linkage="castattr" thing="aCHA"/>
    <eval phase="First">hero.childfound[SlotHoldWa].field[MaxAllow].value += 1</eval>
    </thing>
  <thing id="r5COozFlk" name="Ooze-Folk" compset="Race">
    <fieldval field="rHitDice" value="2"/>
    <fieldval field="rHDSides" value="8"/>
    <fieldval field="rHPStart" value="19"/>
    <fieldval field="rSTR" value="4"/>
    <fieldval field="rDEX" value="-7"/>
    <fieldval field="rCON" value="10"/>
    <fieldval field="rINT" value="-9"/>
    <fieldval field="rWIS" value="-4"/>
    <fieldval field="rCHA" value="-9"/>
    <fieldval field="rAC" value="4"/>
    <fieldval field="rCR" value=".5"/>
    <fieldval field="rMultiatt" value="The ooze folk makes one glass longsword attack and one pseudopod attack."/>
    <usesource source="p5eLLoKP"/>
    <tag group="RaceType" tag="NPC"/>
    <tag group="Alignment" tag="Unaligned"/>
    <tag group="RaceSize" tag="Medium0"/>
    <tag group="CondImm" tag="pcnBlind"/>
    <tag group="CondImm" tag="pcnCharmed"/>
    <tag group="CondImm" tag="pcnDeaf"/>
    <tag group="CondImm" tag="pcnExhaust"/>
    <tag group="CondImm" tag="pcnFright"/>
    <tag group="CondImm" tag="pcnProne"/>
    <bootstrap thing="raBlindSi">
      <autotag group="Value" tag="60"/>
      </bootstrap>
    <bootstrap thing="wOtherMel">
      <autotag group="AttackTarg" tag="1Creature"/>
      <autotag group="DamTypeOvr" tag="dtSlashing"/>
      <assignval field="wDamBonus" value="0"/>
      <assignval field="livename" value="Glass Longsword"/>
      <assignval field="sbName" value="Glass Longsword"/>
      <assignval field="wReach" value="5"/>
      <assignval field="wAttackEff" value=" The glass sword shatters into useless shards if a 1 is rolled on the attack."/>
      <assignval field="wDieCount" value="1"/>
      <assignval field="wDieSize" value="8"/>
      </bootstrap>
    <bootstrap thing="wOtherMel">
      <autotag group="AttackTarg" tag="1Creature"/>
      <autotag group="DamTypeOvr" tag="dtAcid"/>
      <assignval field="wDamBonus" value="0"/>
      <assignval field="livename" value="Pseudopod"/>
      <assignval field="sbName" value="Pseudopod"/>
      <assignval field="wReach" value="5"/>
      <assignval field="wDieCount" value="1"/>
      <assignval field="wDieSize" value="6"/>
      </bootstrap>
    <bootstrap thing="tpOoze"></bootstrap>
    <bootstrap thing="xMultiatt"></bootstrap>
    <bootstrap thing="ra5COozFrgBon"></bootstrap>
    <bootstrap thing="ra5COozTrns"></bootstrap>
    </thing>
  <thing id="io5CLLKDeck" name="Deck of Several Things" description="Before drawing any cards, you must state how many cards you plan to draw. You draw them randomly, and any cards drawn beyond your stated amount have no effect. As soon as you draw a card from the deck, its magic takes effect. You must draw each card within 1 hour of the previous draw. If you fail to draw the chosen number, the remaining number of cards fly from the deck on their own and take effect all at once.\n\nOnce a card is drawn, it disappears from existance. Unless the card is the Fool or the Jester, it card reappears in the deck, meaning it can be drawn more than once.\n\n{b}1 - Vizier. {/b}At any one time you choose during adventure, you can ask a meditate on a question and mentally receive a truthful answer to that question. Besides information, the answer can help you solve a puzzling problem or other dilemma. In effect, the knowledge comes with wisdom on how to apply it.\n{b}2 - Sun. {/b}You gain proficiency in the skill of your choice for the rest of the adventure. Additionally, a common or uncommon wondrous item, chosen by the DM, appears in your hands. You possess that item for the rest of the adventure.\n{b}3 - Moon. {/b}You are able to cast any spell of 5th level or lower. You can use this ability 1d3 times for the rest of the adventure.\n{b}4 - Star. {/b}Increase one of your ability scores by 1 for the rest of the adventure. The maximum score can&apos;t exceed 24.\n{b}5 - Comet. {/b}If you single-handedly defeat the next hostile monster or group of monsters you battle, you have advantage on ability checks made using one skill of your choice for the rest of the adventure. Otherwise, this card has no effect.\n{b}6 - The Fates. {/b}You can rewrite reality to avoid or erase one event as if it never happened. You can use this effect as soon as you draw the card or at any other point during the adventure.\n{b}7 - Throne. {/b}You gain double proficiency in the Persuasion skill for the rest of the adventure. In addition, a certain monastery&apos;s brains in jars now see you as the rightful master of that monastery. You must defeat or otherwise drive out the grand master of the monastery and its servants before you can lay claim to that monastery.\n{b}8 - Key. {/b}A common or uncommon magic weapon with which you are proficient, or a spell scroll featuring a spell of a level you can cast, appears in your hands. The weapon or spell is determined by your DM, and you possess this item for the rest of the adventure.\n{b}9 - Knight. {/b}You gain the service of any of the NPCs in the &quot;Hirelings&quot; section not currently with the party. The NPC appears in a space of your choosing within 30 feet of you. The NPC loyally serves you for the rest of the adventure. You control them.\n{b}10 - Gem. {/b}A 1,000 gp hoard of a leprechaun (see Appendix A) appears at your feet. If that treasure has already been claimed, you gain an equivalent hoard.\n{b}11 - Talons. {/b}Every magic item you wear or carry is lost to you. These items can be recovered either in the treasury of a certain monastery or a specific lab, whichever comes later in the adventure. Have your DM consult the adventure for these locations.\n{b}12 - The Void. {/b}Your soul is pulled from your body and held within machinery in either a certain monastery or a specific lab, whichever comes later in the adventure. Have your DM consult the adventure for the specific locations. While your soul is trapped in this way, your body is incapacitated. {i}Divination{/i}, {i}contact other plane{/i}, or a similar spell of 4th level or higher reveals the location of the machinery holding your soul. You cannot draw any more cards.\n{b}13 - Flames. {/b}The grand master of a certain monastery becomes your enemy. The bone devil seeks your destruction, enjoing your suffering before it tries to kill you. If the grand master has already been defeated, you gain the enmity of a certain tiefling cartographer&apos;s patron—a similarly powerful devil.\n{b}14 - Skull. {/b}You summon a black robed, mechanical skeleton (using the bone naga stat block). It appears in a space within 10 feet of you, chosen by the DM, and attacks you, warning all others that you must battle it alone. The avatar fights until you die or it drops to 0 hit points, whereupon it disappears. If anyone tries to help you, the helper summons another avatar of death, much the same as itself, to battle them. A creature slain by this or another avatar of death can&apos;t be restored to life.\n{b}15 - Idiot. {/b}Your Intelligence is reduced by 1d4+1 (a minimum Intelligence of 1) for the rest of the adventure. You can draw one extra card past your declared number of draws.\n{b}16 - Donjon. {/b}You are instantly teleported to and held in the prison of a certain monastery. Everything you were wearing and carrying stays behind in the space you were occupying when you disappeared. You draw no more cards.\n{b}17 - Ruin. {/b}All forms of wealth that you carry or own, other than magic items, are lost to you. This wealth can be recovered either in the treasury of a certain monastery or a specific lab, whichever comes later in the adventure. Have your DM consult the adventure for the specific locations.\n{b}18 - Euryale. {/b}The card&apos;s medusa-like face curses you. For the rest of the adventure, you take a -1 penalty on saving throws.\n{b}19 - Rogue. {/b}An NPC, chosen by the DM, becomes secretly hostile toward you. You do not know the identity of this new enemy until the NPC or someone else reveals it. Any enchantment spell cast on the NPC at 6th level or higher can end its hostility toward you.\n{b}20 - Balance. {/b}Your alignment changes for the rest of the adventure. Lawful becomes chaotic, good becomes evil, and vice versa. This card has no effect if you are true neutral or unaligned.\n{b}21 - Fool. {/b}For the rest of the adventure, you lose proficiency with a skill or gain disadvantage on all checks made with one skill (the DM determines the skill and penalty). Discard this card and draw from the deck again, counting both draws as a single one of your declared draws.\n{b}22 - Jester. {/b}For the rest of the adventure, you gain proficiency in a skill of your choice. Alternatively, you can draw two extra cards beyond your declared draws." compset="Wondrous">
    <usesource source="p5eLLoKP"/>
    <tag group="GearType" tag="gtWondrous"/>
    <tag group="ItemRarity" tag="Legendary"/>
    <bootstrap thing="cfg5CLLKDeck"></bootstrap>
    </thing>
  <thing id="cfg5CLLKDeck" name="Deck of Several Things" compset="Configure" uniqueness="unique">
    <fieldval field="cfgObject1" value="drawn card"/>
    <tag group="Helper" tag="Allow1Abil"/>
    </thing>
  <thing id="c5CLLKDk1" name="01 - Vizier" description="At any one time you choose during adventure, you can ask a meditate on a question and mentally receive a truthful answer to that question. Besides information, the answer can help you solve a puzzling problem or other dilemma. In effect, the knowledge comes with wisdom on how to apply it." compset="CustomSpec">
    <fieldval field="actName" value="Used"/>
    <usesource source="p5eLLoKP"/>
    <tag group="AllowRCust" tag="cfg5CLLKDeck"/>
    <tag group="User" tag="Activation"/>
    <tag group="Helper" tag="Primary"/>
    <eval phase="First"><![CDATA[field[livename].text = "Vizier"

doneif (field[abilActive].value = 0)

perform assign[Helper.SpecUp]]]></eval>
    </thing>
  <thing id="c5CLLKDk2" name="02 - Sun" description="You gain proficiency in the skill of your choice for the rest of the adventure. Additionally, a common or uncommon wondrous item, chosen by the DM, appears in your hands. You possess that item for the rest of the adventure." compset="CustomSpec">
    <fieldval field="usrCandid1" value="component.BaseSkill &amp; !Helper.Proficient"/>
    <usesource source="p5eLLoKP"/>
    <tag group="AllowRCust" tag="cfg5CLLKDeck"/>
    <tag group="Helper" tag="ActivMenu"/>
    <tag group="Helper" tag="SpecUp"/>
    <tag group="ChooseSrc1" tag="Hero"/>
    <tag group="Helper" tag="Primary"/>
    <eval phase="First"><![CDATA[field[livename].text = "Sun"

      ~ Mark our chosen skill as proficient
      perform field[usrChosen1].chosen.assign[Helper.Proficient]]]></eval>
    </thing>
  <thing id="c5CLLKDk3" name="03 - Moon" description="You are able to cast any spell of 5th level or lower. You can use this ability 1d3 times for the rest of the adventure." compset="CustomSpec">
    <fieldval field="actIncrNam" value="Times Used (1d3)"/>
    <fieldval field="actUserMin" value="0"/>
    <fieldval field="actUserMax" value="3"/>
    <usesource source="p5eLLoKP"/>
    <tag group="Helper" tag="UserAdjust"/>
    <tag group="Helper" tag="Primary"/>
    <tag group="AllowRCust" tag="cfg5CLLKDeck"/>
    <eval phase="First"><![CDATA[field[livename].text = "Moon"

doneif (field[actUser].value < 3)

perform assign[Helper.SpecUp]]]></eval>
    </thing>
  <thing id="c5CLLKDk4" name="04 - Star" description="Increase one of your ability scores by 1 for the rest of the adventure. The maximum score can&apos;t exceed 24." compset="CustomSpec">
    <usesource source="p5eLLoKP"/>
    <tag group="Helper" tag="Primary"/>
    <tag group="AllowRCust" tag="cfg5CLLKDeck"/>
    <tag group="Helper" tag="ActivMenu"/>
    <tag group="fShowWhat" tag="Attributes"/>
    <tag group="ChooseSrc1" tag="Hero"/>
    <eval phase="PreAttr" priority="10000" index="2"><![CDATA[field[livename].text = "Star"


~ If we're not enabled, get out now
doneif (field[usrChosen1].ischosen = 0)

~ Add to our chosen attribute
field[usrChosen1].chosen.field[aNormMod].value += 1
field[usrChosen1].chosen.field[aMaxValue].value = maximum(24,field[usrChosen1].chosen.field[aMaxValue].value)]]></eval>
    </thing>
  <thing id="c5CLLKDk5" name="05 - Comet" description="If you single-handedly defeat the next hostile monster or group of monsters you battle, you have advantage on ability checks made using one skill of your choice for the rest of the adventure. Otherwise, this card has no effect." compset="CustomSpec">
    <fieldval field="actName" value="Active"/>
    <fieldval field="usrCandid1" value="component.BaseSkill &amp; !Hide.Skill"/>
    <usesource source="p5eLLoKP"/>
    <tag group="User" tag="Activation"/>
    <tag group="AllowRCust" tag="cfg5CLLKDeck"/>
    <tag group="Helper" tag="ActivMenu"/>
    <tag group="Helper" tag="Primary"/>
    <tag group="Helper" tag="SpecUp"/>
    <eval phase="First"><![CDATA[field[livename].text = "Comet"

~ If we're not enabled, get out now
doneif (field[usrChosen1].ischosen = 0)
doneif (field[abilActive].value = 0)

perform field[usrChosen1].chosen.setfocus

      #situational[focus,"Always with advantage",field[livename].text]]]></eval>
    </thing>
  <thing id="c5CLLKDk6" name="06 - The Fates" description="You can rewrite reality to avoid or erase one event as if it never happened. You can use this effect as soon as you draw the card or at any other point during the adventure." compset="CustomSpec">
    <fieldval field="actName" value="Used"/>
    <usesource source="p5eLLoKP"/>
    <tag group="AllowRCust" tag="cfg5CLLKDeck"/>
    <tag group="User" tag="Activation"/>
    <tag group="Helper" tag="Primary"/>
    <eval phase="First"><![CDATA[field[livename].text = "The Fates"

doneif (field[abilActive].value = 0)

perform assign[Helper.SpecUp]]]></eval>
    </thing>
  <thing id="c5CLLKDk7" name="07 - Throne" description="You gain double proficiency in the Persuasion skill for the rest of the adventure. In addition, a certain monastery&apos;s brains in jars now see you as the rightful master of that monastery. You must defeat or otherwise drive out the grand master of the monastery and its servants before you can lay claim to that monastery." compset="CustomSpec">
    <usesource source="p5eLLoKP"/>
    <tag group="Helper" tag="Primary"/>
    <tag group="AllowRCust" tag="cfg5CLLKDeck"/>
    <tag group="Helper" tag="SpecUp"/>
    <eval phase="First"><![CDATA[field[livename].text = "Throne"

perform hero.childfound[skPersuas].assign[Helper.ProfDouble]]]></eval>
    </thing>
  <thing id="c5CLLKDk8" name="08 - Key" description="A common or uncommon magic weapon with which you are proficient, or a spell scroll featuring a spell of a level you can cast, appears in your hands. The weapon or spell is determined by your DM, and you possess this item for the rest of the adventure." compset="CustomSpec">
    <usesource source="p5eLLoKP"/>
    <tag group="Helper" tag="Primary"/>
    <tag group="AllowRCust" tag="cfg5CLLKDeck"/>
    <tag group="Helper" tag="SpecUp"/>
    <eval phase="First"><![CDATA[field[livename].text = "Key"]]></eval>
    </thing>
  <thing id="c5CLLKDk9" name="09 - Knight" description="You gain the service of any of the NPCs in the Hirelings section not currently with the party. The NPC appears in a space of your choosing within 30 feet of you. The NPC loyally serves you for the rest of the adventure. You control them." compset="CustomSpec">
    <usesource source="p5eLLoKP"/>
    <tag group="Helper" tag="Primary"/>
    <tag group="AllowRCust" tag="cfg5CLLKDeck"/>
    <tag group="Helper" tag="SpecUp"/>
    <eval phase="First"><![CDATA[field[livename].text = "Knight"]]></eval>
    </thing>
  <thing id="c5CLLKDk10" name="10 - Gem" description="A 1,000 gp hoard of a leprechaun (see Appendix A) appears at your feet. If that treasure has already been claimed, you gain an equivalent hoard." compset="CustomSpec">
    <usesource source="p5eLLoKP"/>
    <tag group="Helper" tag="Primary"/>
    <tag group="AllowRCust" tag="cfg5CLLKDeck"/>
    <tag group="Helper" tag="SpecUp"/>
    <eval phase="First"><![CDATA[field[livename].text = "Gem"]]></eval>
    </thing>
  <thing id="c5CLLKDk11" name="11 - Talons" description="Every magic item you wear or carry is lost to you. These items can be recovered either in the treasury of a certain monastery or a specific lab, whichever comes later in the adventure. Have your DM consult the adventure for these locations." compset="CustomSpec">
    <usesource source="p5eLLoKP"/>
    <tag group="Helper" tag="Primary"/>
    <tag group="AllowRCust" tag="cfg5CLLKDeck"/>
    <tag group="Helper" tag="SpecUp"/>
    <eval phase="First"><![CDATA[field[livename].text = "Talons"]]></eval>
    </thing>
  <thing id="c5CLLKDk12" name="12 - The Void" description="Your soul is pulled from your body and held within machinery in either a certain monastery or a specific lab, whichever comes later in the adventure. Have your DM consult the adventure for the specific locations. While your soul is trapped in this way, your body is incapacitated. {i}Divination{/i}, {i}contact other plane{/i}, or a similar spell of 4th level or higher reveals the location of the machinery holding your soul. You cannot draw any more cards." compset="CustomSpec">
    <usesource source="p5eLLoKP"/>
    <tag group="Helper" tag="Primary"/>
    <tag group="AllowRCust" tag="cfg5CLLKDeck"/>
    <tag group="Helper" tag="SpecUp"/>
    <eval phase="First"><![CDATA[field[livename].text = "The Void"]]></eval>
    </thing>
  <thing id="c5CLLKDk13" name="13 - Flames" description="The grand master of a certain monastery becomes your enemy. The bone devil seeks your destruction, enjoing your suffering before it tries to kill you. If the grand master has already been defeated, you gain the enmity of a certain tiefling cartographer&apos;s patron- a similarly powerful devil." compset="CustomSpec">
    <usesource source="p5eLLoKP"/>
    <tag group="Helper" tag="Primary"/>
    <tag group="AllowRCust" tag="cfg5CLLKDeck"/>
    <tag group="Helper" tag="SpecUp"/>
    <eval phase="First"><![CDATA[field[livename].text = "Flames"]]></eval>
    </thing>
  <thing id="c5CLLKDk14" name="14 - Skull" description="You summon a black robed, mechanical skeleton (using the bone naga stat block). It appears in a space within 10 feet of you, chosen by the DM, and attacks you, warning all others that you must battle it alone. The avatar fights until you die or it drops to 0 hit points, whereupon it disappears. If anyone tries to help you, the helper summons another avatar of death, much the same as itself, to battle them. A creature slain by this or another avatar of death can&apos;t be restored to life." compset="CustomSpec">
    <usesource source="p5eLLoKP"/>
    <tag group="Helper" tag="Primary"/>
    <tag group="AllowRCust" tag="cfg5CLLKDeck"/>
    <tag group="Helper" tag="SpecUp"/>
    <eval phase="First"><![CDATA[field[livename].text = "Skull"]]></eval>
    </thing>
  <thing id="c5CLLKDk15" name="15 - Idiot" description="Your Intelligence is reduced by 1d4+1 (a minimum Intelligence of 1) for the rest of the adventure. You can draw one extra card past your declared number of draws." compset="CustomSpec">
    <fieldval field="actIncrNam" value="Intelligence reduction (1d4+1)"/>
    <fieldval field="actUserMin" value="1"/>
    <fieldval field="actUserMax" value="5"/>
    <usesource source="p5eLLoKP"/>
    <tag group="Helper" tag="UserAdjust"/>
    <tag group="Helper" tag="Primary"/>
    <tag group="AllowRCust" tag="cfg5CLLKDeck"/>
    <tag group="Helper" tag="SpecUp"/>
    <eval phase="First"><![CDATA[field[livename].text = "Idiot"

hero.childfound[aINT].field[aNormMod].value -= field[actUser].value

hero.child[aINT].field[Minimum].value = 1]]></eval>
    </thing>
  <thing id="c5CLLKDk16" name="16 - Donjon" description="You are instantly teleported to and held in the prison of a certain monastery. Everything you were wearing and carrying stays behind in the space you were occupying when you disappeared. You draw no more cards." compset="CustomSpec">
    <usesource source="p5eLLoKP"/>
    <tag group="Helper" tag="Primary"/>
    <tag group="AllowRCust" tag="cfg5CLLKDeck"/>
    <tag group="Helper" tag="SpecUp"/>
    <eval phase="First"><![CDATA[field[livename].text = "Donjon"]]></eval>
    </thing>
  <thing id="c5CLLKDk17" name="17 - Ruin" description="All forms of wealth that you carry or own, other than magic items, are lost to you. This wealth can be recovered either in the treasury of a certain monastery or a specific lab, whichever comes later in the adventure. Have your DM consult the adventure for the specific locations." compset="CustomSpec">
    <usesource source="p5eLLoKP"/>
    <tag group="Helper" tag="Primary"/>
    <tag group="AllowRCust" tag="cfg5CLLKDeck"/>
    <tag group="Helper" tag="SpecUp"/>
    <eval phase="First"><![CDATA[field[livename].text = "Ruin"]]></eval>
    </thing>
  <thing id="c5CLLKDk18" name="18 - Euryale" description="The card&apos;s medusa-like face curses you. For the rest of the adventure, you take a -1 penalty on saving throws." compset="CustomSpec">
    <usesource source="p5eLLoKP"/>
    <tag group="Helper" tag="Primary"/>
    <tag group="AllowRCust" tag="cfg5CLLKDeck"/>
    <tag group="Helper" tag="SpecUp"/>
    <eval phase="First"><![CDATA[field[livename].text = "Euryale"

hero.childfound[svAll].field[Bonus].value -= 1]]></eval>
    </thing>
  <thing id="c5CLLKDk19" name="19 - Rogue" description="An NPC, chosen by the DM, becomes secretly hostile toward you. You do not know the identity of this new enemy until the NPC or someone else reveals it. Any enchantment spell cast on the NPC at 6th level or higher can end its hostility toward you." compset="CustomSpec">
    <usesource source="p5eLLoKP"/>
    <tag group="Helper" tag="Primary"/>
    <tag group="AllowRCust" tag="cfg5CLLKDeck"/>
    <tag group="Helper" tag="SpecUp"/>
    <eval phase="First"><![CDATA[field[livename].text = "Rogue"]]></eval>
    </thing>
  <thing id="c5CLLKDk20" name="20 - Balance" description="Your alignment changes for the rest of the adventure. Lawful becomes chaotic, good becomes evil, and vice versa. This card has no effect if you are true neutral or unaligned." compset="CustomSpec">
    <usesource source="p5eLLoKP"/>
    <tag group="Helper" tag="Primary"/>
    <tag group="AllowRCust" tag="cfg5CLLKDeck"/>
    <tag group="Helper" tag="SpecUp"/>
    <eval phase="First"><![CDATA[field[livename].text = "Balance"]]></eval>
    </thing>
  <thing id="c5CLLKDk21" name="21 - Fool" description="For the rest of the adventure, you lose proficiency with a skill or gain disadvantage on all checks made with one skill (the DM determines the skill and penalty). Discard this card and draw from the deck again, counting both draws as a single one of your declared draws." compset="CustomSpec" uniqueness="unique">
    <fieldval field="usrCandid1" value="component.BaseSkill &amp; !Hide.Skill &amp; (Helper.Proficient | Helper.ProfDouble)"/>
    <arrayval field="usrArray" index="0" value="Lose Proficiency"/>
    <arrayval field="usrArray" index="1" value="Disadvantage"/>
    <usesource source="p5eLLoKP"/>
    <tag group="Helper" tag="ActivMenu"/>
    <tag group="Helper" tag="Primary"/>
    <tag group="AllowRCust" tag="cfg5CLLKDeck"/>
    <tag group="User" tag="NoAutoName"/>
    <tag group="Helper" tag="SpecUp"/>
    <eval phase="PostLevel" priority="10100" index="3"><![CDATA[doneif (field[usrChosen1].ischosen = 0)

    perform field[usrChosen1].chosen.setfocus

if (field[usrIndex].value = 0) then
    var iNam as string
    iNam = focus.tagids[thingid.?]
    iNam = replace(iNam,"thingid","ProfSkill",0)
    perform hero.deletestr[iNam]
    iNam = replace(iNam,"ProfSkill","ProfDouble",0)
    perform hero.deletestr[iNam]
    perform focus.delete[Helper.Proficient]
    perform focus.delete[Helper.ProfDouble]
endif]]></eval>
    <eval phase="First"><![CDATA[field[livename].text = "Fool"]]></eval>
    <eval phase="PreLevel" priority="50000" index="2"><![CDATA[doneif (field[usrChosen1].ischosen = 0)

    perform field[usrChosen1].chosen.setfocus

if (field[usrIndex].value = 0) then
    var iNam as string
    iNam = focus.tagids[thingid.?]
    iNam = replace(iNam,"thingid","ProfSkill",0)
    perform hero.deletestr[iNam]
    iNam = replace(iNam,"ProfSkill","ProfDouble",0)
    perform hero.deletestr[iNam]
    perform focus.delete[Helper.Proficient]
    perform focus.delete[Helper.ProfDouble]
else
    #situational[focus,"Always with disadvantage",field[livename].text]
endif]]></eval>
    </thing>
  <thing id="c5CLLKDk22" name="22 - Jester" description="For the rest of the adventure, you gain proficiency in a skill of your choice. Alternatively, you can draw two extra cards beyond your declared draws." compset="CustomSpec" uniqueness="unique">
    <fieldval field="usrCandid1" value="component.BaseSkill &amp; !Helper.Proficient"/>
    <arrayval field="usrArray" index="0" value="Proficiency"/>
    <arrayval field="usrArray" index="1" value="Draw 2"/>
    <usesource source="p5eLLoKP"/>
    <tag group="Helper" tag="ActivMenu"/>
    <tag group="User" tag="NoAutoName"/>
    <tag group="Helper" tag="SpecUp"/>
    <tag group="Helper" tag="Primary"/>
    <tag group="AllowRCust" tag="cfg5CLLKDeck"/>
    <eval phase="PreLevel"><![CDATA[field[livename].text = "Jester"

doneif (field[usrIndex].value <> 0)
doneif (field[usrChosen1].ischosen = 0)

perform field[usrChosen1].chosen.pulltags[ProfSkill.?]
perform hero.pushtags[ProfSkill.?]]]></eval>
    </thing>
  </document>
